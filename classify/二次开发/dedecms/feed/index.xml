<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>DedeCMS &#8211; 个人随笔</title>
	<atom:link href="/classify/%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91/dedecms/feed" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description></description>
	<lastBuildDate>Sun, 20 May 2018 01:07:08 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.6.1</generator>

<image>
	<url>/wp-content/uploads/2022/01/cropped-截屏2022-01-01-18.57.09-32x32.png</url>
	<title>DedeCMS &#8211; 个人随笔</title>
	<link>/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>DedeCMS 二次开发（一）CMS介绍、安装、目录结构、取出数据、表、表关系、标签</title>
		<link>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6479.html</link>
					<comments>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6479.html#respond</comments>
		
		<dc:creator><![CDATA[Mr.Lee]]></dc:creator>
		<pubDate>Sat, 19 May 2018 17:26:35 +0000</pubDate>
				<category><![CDATA[DedeCMS]]></category>
		<category><![CDATA[二次开发]]></category>
		<category><![CDATA[CMS介绍]]></category>
		<category><![CDATA[取出数据]]></category>
		<category><![CDATA[安装]]></category>
		<category><![CDATA[标签]]></category>
		<category><![CDATA[目录结构]]></category>
		<category><![CDATA[表]]></category>
		<category><![CDATA[表关系]]></category>
		<guid isPermaLink="false">/?p=6479</guid>

					<description><![CDATA[dedecms第一天 CMS介绍 什么是cms 就是别人已经把数据库和基本的php代码设计好了。只需要我们填充 [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>dedecms第一天</p>
<h1><a id="post-6479-_CMS__"></a><a id="post-6479-_Toc256000002"></a>CMS介绍</h1>
<h2><a id="post-6479-____cms"></a><a id="post-6479-_Toc256000003"></a>什么是cms</h2>
<p>就是别人已经把数据库和基本的php代码设计好了。只需要我们填充静态页面和基本的数据，就可以做成一个网站。</p>
<p>能做那些网站</p>
<p>1 只能做一些，逻辑比较简单。</p>
<p>2 以展示内容为主，主要是静态页面。</p>
<p>3 不需要和用户进行太多的交互。</p>
<p>4 适合做企业的门户网站，素材网站等。</p>
<p>不适合做的网站</p>
<p>1 逻辑比较复杂的，和用户有较多的交互的。</p>
<p>2 比如，电商网站，社交网站，新闻类网站。</p>
<h2><a id="post-6479-____cms_____"></a><a id="post-6479-_Toc256000004"></a>开源的cms系统有哪些</h2>
<p>dedecms开源网站，偏向于美工使用的系统，操作起来比较简单，只需要套静态页面就行（适合于企业的门户网站）。</p>
<p>phpcms开源的，相对来说比较复杂，适合于php程序员做一些二次开发，做稍微大一点的网站。</p>
<h2><a id="post-6479-____cms_______"></a><a id="post-6479-_Toc256000005"></a>开源的cms系统有哪些特点</h2>
<p>（1） 强大的后台管理功能</p>
<p>（2） 网站的前台绝大部分页面真静态</p>
<p>（3） 采用mvc架构，便于扩展新的内容</p>
<p>（4） 强大的采集功能，便于采集其他的网站内容</p>
<p>（5） 强大的标签体系，便于在模板中取出数据</p>
<p>案例演示：http://www.dedecms.com/caseshow/e-gov/</p>
<p><img fetchpriority="high" decoding="async" width="1143" height="615" class="wp-image-6606" src="/wp-content/uploads/2018/05/word-image-6014.png" srcset="/wp-content/uploads/2018/05/word-image-6014.png 1143w, /wp-content/uploads/2018/05/word-image-6014-300x161.png 300w, /wp-content/uploads/2018/05/word-image-6014-768x413.png 768w, /wp-content/uploads/2018/05/word-image-6014-1024x551.png 1024w" sizes="(max-width: 1143px) 100vw, 1143px" /><br />
<img decoding="async" width="1483" height="648" class="wp-image-6607" src="/wp-content/uploads/2018/05/word-image-6015.png" srcset="/wp-content/uploads/2018/05/word-image-6015.png 1483w, /wp-content/uploads/2018/05/word-image-6015-300x131.png 300w, /wp-content/uploads/2018/05/word-image-6015-768x336.png 768w, /wp-content/uploads/2018/05/word-image-6015-1024x447.png 1024w" sizes="(max-width: 1483px) 100vw, 1483px" /></p>
<h1><a id="post-6479-___dedecms"></a><a id="post-6479-_Toc256000006"></a>安装dedecms</h1>
<p>a 下载dedecms</p>
<p><img decoding="async" width="1193" height="511" class="wp-image-6608" src="/wp-content/uploads/2018/05/word-image-6016.png" srcset="/wp-content/uploads/2018/05/word-image-6016.png 1193w, /wp-content/uploads/2018/05/word-image-6016-300x128.png 300w, /wp-content/uploads/2018/05/word-image-6016-768x329.png 768w, /wp-content/uploads/2018/05/word-image-6016-1024x439.png 1024w" sizes="(max-width: 1193px) 100vw, 1193px" /><br />
<img loading="lazy" decoding="async" width="903" height="497" class="wp-image-6609" src="/wp-content/uploads/2018/05/word-image-6017.png" srcset="/wp-content/uploads/2018/05/word-image-6017.png 903w, /wp-content/uploads/2018/05/word-image-6017-300x165.png 300w, /wp-content/uploads/2018/05/word-image-6017-768x423.png 768w" sizes="(max-width: 903px) 100vw, 903px" /></p>
<p>b 下载完成的页面，放到网站的根目录中直接进行解压</p>
<p><img loading="lazy" decoding="async" width="850" height="91" class="wp-image-6610" src="/wp-content/uploads/2018/05/word-image-6018.png" srcset="/wp-content/uploads/2018/05/word-image-6018.png 850w, /wp-content/uploads/2018/05/word-image-6018-300x32.png 300w, /wp-content/uploads/2018/05/word-image-6018-768x82.png 768w" sizes="(max-width: 850px) 100vw, 850px" /><br />
<img loading="lazy" decoding="async" width="857" height="215" class="wp-image-6611" src="/wp-content/uploads/2018/05/word-image-6019.png" srcset="/wp-content/uploads/2018/05/word-image-6019.png 857w, /wp-content/uploads/2018/05/word-image-6019-300x75.png 300w, /wp-content/uploads/2018/05/word-image-6019-768x193.png 768w" sizes="(max-width: 857px) 100vw, 857px" /></p>
<p>c 访问dede进行安装</p>
<p><img loading="lazy" decoding="async" width="698" height="312" class="wp-image-6612" src="/wp-content/uploads/2018/05/word-image-6020.png" srcset="/wp-content/uploads/2018/05/word-image-6020.png 698w, /wp-content/uploads/2018/05/word-image-6020-300x134.png 300w" sizes="(max-width: 698px) 100vw, 698px" /></p>
<p>点击uploads之后出现安装的页面</p>
<p><img loading="lazy" decoding="async" width="871" height="609" class="wp-image-6613" src="/wp-content/uploads/2018/05/word-image-6021.png" srcset="/wp-content/uploads/2018/05/word-image-6021.png 871w, /wp-content/uploads/2018/05/word-image-6021-300x210.png 300w, /wp-content/uploads/2018/05/word-image-6021-768x537.png 768w" sizes="(max-width: 871px) 100vw, 871px" /></p>
<p>设置数据库的密码和管理员的初始密码</p>
<p><img loading="lazy" decoding="async" width="949" height="851" class="wp-image-6614" src="/wp-content/uploads/2018/05/word-image-6022.png" srcset="/wp-content/uploads/2018/05/word-image-6022.png 949w, /wp-content/uploads/2018/05/word-image-6022-300x269.png 300w, /wp-content/uploads/2018/05/word-image-6022-768x689.png 768w" sizes="(max-width: 949px) 100vw, 949px" /></p>
<p>安装成功之后的页面</p>
<p><img loading="lazy" decoding="async" width="783" height="427" class="wp-image-6616" src="/wp-content/uploads/2018/05/word-image-6023.png" srcset="/wp-content/uploads/2018/05/word-image-6023.png 783w, /wp-content/uploads/2018/05/word-image-6023-300x164.png 300w, /wp-content/uploads/2018/05/word-image-6023-768x419.png 768w" sizes="(max-width: 783px) 100vw, 783px" /></p>
<p>网站的首页访问：</p>
<p><img loading="lazy" decoding="async" width="1122" height="450" class="wp-image-6617" src="/wp-content/uploads/2018/05/word-image-6024.png" srcset="/wp-content/uploads/2018/05/word-image-6024.png 1122w, /wp-content/uploads/2018/05/word-image-6024-300x120.png 300w, /wp-content/uploads/2018/05/word-image-6024-768x308.png 768w, /wp-content/uploads/2018/05/word-image-6024-1024x411.png 1024w" sizes="(max-width: 1122px) 100vw, 1122px" /></p>
<h2><a id="post-6479-_____"></a><a id="post-6479-_Toc256000007"></a>目录结构</h2>
<p>使用编辑器将我们的项目搭建起来</p>
<p><img loading="lazy" decoding="async" width="697" height="357" class="wp-image-6618" src="/wp-content/uploads/2018/05/word-image-6025.png" srcset="/wp-content/uploads/2018/05/word-image-6025.png 697w, /wp-content/uploads/2018/05/word-image-6025-300x154.png 300w" sizes="(max-width: 697px) 100vw, 697px" /></p>
<h3><a id="post-6479-_a__"></a><a id="post-6479-_Toc256000008"></a>a目录</h3>
<p>用于存放网站生成的静态页面</p>
<h3><a id="post-6479-_data__"></a><a id="post-6479-_Toc256000009"></a>data目录</h3>
<p>用于存放数据库的配置信息文件和一些缓存的数据文件</p>
<p><img loading="lazy" decoding="async" width="914" height="583" class="wp-image-6619" src="/wp-content/uploads/2018/05/word-image-6026.png" srcset="/wp-content/uploads/2018/05/word-image-6026.png 914w, /wp-content/uploads/2018/05/word-image-6026-300x191.png 300w, /wp-content/uploads/2018/05/word-image-6026-768x490.png 768w" sizes="(max-width: 914px) 100vw, 914px" /></p>
<h3><a id="post-6479-_include__"></a><a id="post-6479-_Toc256000010"></a>dede目录</h3>
<p>cms的后台主程序目录</p>
<h3>include目录</h3>
<p>用于存放dede核心文件目录，比如数据库类，文档的上传类，标签的解析类。</p>
<h3><a id="post-6479-_install__"></a><a id="post-6479-_Toc256000011"></a>install目录</h3>
<p>dede的安装目录</p>
<h3><a id="post-6479-_memeber__"></a><a id="post-6479-_Toc256000012"></a>memeber目录</h3>
<p>会员目录，主要是对会员进行增删改查的操作</p>
<h3><a id="post-6479-_plus__"></a><a id="post-6479-_Toc256000013"></a>plus目录</h3>
<p>插件目录，如果后期我们有特别的需求，可以自己把相应的程序文件放在这里使用</p>
<h3><a id="post-6479-_templets__"></a><a id="post-6479-_Toc256000014"></a>templets目录</h3>
<p>静态文件模板目录，用于存放我们的静态页面</p>
<h3><a id="post-6479-_uploads__"></a><a id="post-6479-_Toc256000015"></a>uploads目录</h3>
<p><a id="post-6479-_______"></a><br />
上传文件的保存目录，比如上传的图片等。</p>
<h1><a id="post-6479-____________"></a><a id="post-6479-_Toc256000022"></a>完成一个新闻类型的网站</h1>
<p>访问到dedecms的后台</p>
<p><a href="http://localhost/dede-1/uploads/dede/login.php">http://localhost/dede-1/uploads/dede/login.php</a></p>
<p><img loading="lazy" decoding="async" width="890" height="344" class="wp-image-6620" src="/wp-content/uploads/2018/05/word-image-6027.png" srcset="/wp-content/uploads/2018/05/word-image-6027.png 890w, /wp-content/uploads/2018/05/word-image-6027-300x116.png 300w, /wp-content/uploads/2018/05/word-image-6027-768x297.png 768w" sizes="(max-width: 890px) 100vw, 890px" /></p>
<h2><a id="post-6479-______6"></a><a id="post-6479-_Toc256000023"></a>创建模型</h2>
<p><img loading="lazy" decoding="async" width="1408" height="493" class="wp-image-6621" src="/wp-content/uploads/2018/05/word-image-6028.png" srcset="/wp-content/uploads/2018/05/word-image-6028.png 1408w, /wp-content/uploads/2018/05/word-image-6028-300x105.png 300w, /wp-content/uploads/2018/05/word-image-6028-768x269.png 768w, /wp-content/uploads/2018/05/word-image-6028-1024x359.png 1024w" sizes="(max-width: 1408px) 100vw, 1408px" /></p>
<p>现在dede中默认有以上的模型，等到后续如果这些模型不能满足我们的需求我们可以自己创建。</p>
<p>模型值得就是，这个网站的内容的类型。</p>
<p>因为我们要创建一个新闻类型的网站，只需要使用使用文章模型即可。</p>
<h2><a id="post-6479-______7"></a><a id="post-6479-_Toc256000024"></a>创建栏目</h2>
<p>顶级导航：体育新闻、娱乐新闻</p>
<p>体育新闻：足球新闻、武术新闻</p>
<p>娱乐新闻：明星轶事、明星八卦</p>
<p>a 打开后台创建栏目</p>
<p><img loading="lazy" decoding="async" width="1768" height="338" class="wp-image-6622" src="/wp-content/uploads/2018/05/word-image-6029.png" srcset="/wp-content/uploads/2018/05/word-image-6029.png 1768w, /wp-content/uploads/2018/05/word-image-6029-300x57.png 300w, /wp-content/uploads/2018/05/word-image-6029-768x147.png 768w, /wp-content/uploads/2018/05/word-image-6029-1024x196.png 1024w" sizes="(max-width: 1768px) 100vw, 1768px" /></p>
<p>b 进行网站顶级栏目的添加</p>
<p><img loading="lazy" decoding="async" width="954" height="563" class="wp-image-6623" src="/wp-content/uploads/2018/05/word-image-6030.png" srcset="/wp-content/uploads/2018/05/word-image-6030.png 954w, /wp-content/uploads/2018/05/word-image-6030-300x177.png 300w, /wp-content/uploads/2018/05/word-image-6030-768x453.png 768w" sizes="(max-width: 954px) 100vw, 954px" /></p>
<p>添加娱乐新闻</p>
<p><img loading="lazy" decoding="async" width="930" height="586" class="wp-image-6624" src="/wp-content/uploads/2018/05/word-image-6031.png" srcset="/wp-content/uploads/2018/05/word-image-6031.png 930w, /wp-content/uploads/2018/05/word-image-6031-300x189.png 300w, /wp-content/uploads/2018/05/word-image-6031-768x484.png 768w" sizes="(max-width: 930px) 100vw, 930px" /></p>
<p>c 顶级栏目添加之后的效果</p>
<p><img loading="lazy" decoding="async" width="1655" height="279" class="wp-image-6625" src="/wp-content/uploads/2018/05/word-image-6032.png" srcset="/wp-content/uploads/2018/05/word-image-6032.png 1655w, /wp-content/uploads/2018/05/word-image-6032-300x51.png 300w, /wp-content/uploads/2018/05/word-image-6032-768x129.png 768w, /wp-content/uploads/2018/05/word-image-6032-1024x173.png 1024w" sizes="(max-width: 1655px) 100vw, 1655px" /></p>
<p>d 点击增加子级为每一个顶级栏目添加二级栏目</p>
<p><img loading="lazy" decoding="async" width="1619" height="316" class="wp-image-6626" src="/wp-content/uploads/2018/05/word-image-6033.png" srcset="/wp-content/uploads/2018/05/word-image-6033.png 1619w, /wp-content/uploads/2018/05/word-image-6033-300x59.png 300w, /wp-content/uploads/2018/05/word-image-6033-768x150.png 768w, /wp-content/uploads/2018/05/word-image-6033-1024x200.png 1024w" sizes="(max-width: 1619px) 100vw, 1619px" /><br />
<img loading="lazy" decoding="async" width="587" height="533" class="wp-image-6627" src="/wp-content/uploads/2018/05/word-image-6034.png" srcset="/wp-content/uploads/2018/05/word-image-6034.png 587w, /wp-content/uploads/2018/05/word-image-6034-300x272.png 300w" sizes="(max-width: 587px) 100vw, 587px" /></p>
<p>二级栏目增加之后的效果:</p>
<p><img loading="lazy" decoding="async" width="1574" height="357" class="wp-image-6628" src="/wp-content/uploads/2018/05/word-image-6035.png" srcset="/wp-content/uploads/2018/05/word-image-6035.png 1574w, /wp-content/uploads/2018/05/word-image-6035-300x68.png 300w, /wp-content/uploads/2018/05/word-image-6035-768x174.png 768w, /wp-content/uploads/2018/05/word-image-6035-1024x232.png 1024w" sizes="(max-width: 1574px) 100vw, 1574px" /></p>
<p>e 栏目增加完成之后,刷线前台页面,即可看到效果</p>
<p><img loading="lazy" decoding="async" width="814" height="253" class="wp-image-6629" src="/wp-content/uploads/2018/05/word-image-6036.png" srcset="/wp-content/uploads/2018/05/word-image-6036.png 814w, /wp-content/uploads/2018/05/word-image-6036-300x93.png 300w, /wp-content/uploads/2018/05/word-image-6036-768x239.png 768w" sizes="(max-width: 814px) 100vw, 814px" /></p>
<h2><a id="post-6479-______8"></a><a id="post-6479-_Toc256000025"></a>添加内容</h2>
<p>a 为网站增加文章</p>
<p><img loading="lazy" decoding="async" width="1279" height="413" class="wp-image-6630" src="/wp-content/uploads/2018/05/word-image-6037.png" srcset="/wp-content/uploads/2018/05/word-image-6037.png 1279w, /wp-content/uploads/2018/05/word-image-6037-300x97.png 300w, /wp-content/uploads/2018/05/word-image-6037-768x248.png 768w, /wp-content/uploads/2018/05/word-image-6037-1024x331.png 1024w" sizes="(max-width: 1279px) 100vw, 1279px" /></p>
<p>b 添加具体的文档内容</p>
<p><img loading="lazy" decoding="async" width="1186" height="766" class="wp-image-6631" src="/wp-content/uploads/2018/05/word-image-6038.png" srcset="/wp-content/uploads/2018/05/word-image-6038.png 1186w, /wp-content/uploads/2018/05/word-image-6038-300x194.png 300w, /wp-content/uploads/2018/05/word-image-6038-768x496.png 768w, /wp-content/uploads/2018/05/word-image-6038-1024x661.png 1024w" sizes="(max-width: 1186px) 100vw, 1186px" /></p>
<p>c 文章添加完成之后的效果</p>
<p><img loading="lazy" decoding="async" width="1618" height="304" class="wp-image-6632" src="/wp-content/uploads/2018/05/word-image-6039.png" srcset="/wp-content/uploads/2018/05/word-image-6039.png 1618w, /wp-content/uploads/2018/05/word-image-6039-300x56.png 300w, /wp-content/uploads/2018/05/word-image-6039-768x144.png 768w, /wp-content/uploads/2018/05/word-image-6039-1024x192.png 1024w" sizes="(max-width: 1618px) 100vw, 1618px" /></p>
<p>d 在首页查看刚才添加的文章内容</p>
<p>&nbsp;</p>
<p><img loading="lazy" decoding="async" width="1101" height="920" class="wp-image-6633" src="/wp-content/uploads/2018/05/word-image-6040.png" srcset="/wp-content/uploads/2018/05/word-image-6040.png 1101w, /wp-content/uploads/2018/05/word-image-6040-300x251.png 300w, /wp-content/uploads/2018/05/word-image-6040-768x642.png 768w, /wp-content/uploads/2018/05/word-image-6040-1024x856.png 1024w" sizes="(max-width: 1101px) 100vw, 1101px" /></p>
<h2><a id="post-6479-________3"></a><a id="post-6479-_Toc256000027"></a>生成静态页面</h2>
<h3><a id="post-6479-_________"></a><a id="post-6479-_Toc256000028"></a>生成首页静态页面</h3>
<p><img loading="lazy" decoding="async" width="1134" height="317" class="wp-image-6634" src="/wp-content/uploads/2018/05/word-image-6041.png" srcset="/wp-content/uploads/2018/05/word-image-6041.png 1134w, /wp-content/uploads/2018/05/word-image-6041-300x84.png 300w, /wp-content/uploads/2018/05/word-image-6041-768x215.png 768w, /wp-content/uploads/2018/05/word-image-6041-1024x286.png 1024w" sizes="(max-width: 1134px) 100vw, 1134px" /></p>
<h3><a id="post-6479-__________2"></a><a id="post-6479-_Toc256000029"></a>生成栏目静态页面</h3>
<p><img loading="lazy" decoding="async" width="1225" height="403" class="wp-image-6635" src="/wp-content/uploads/2018/05/word-image-6042.png" srcset="/wp-content/uploads/2018/05/word-image-6042.png 1225w, /wp-content/uploads/2018/05/word-image-6042-300x99.png 300w, /wp-content/uploads/2018/05/word-image-6042-768x253.png 768w, /wp-content/uploads/2018/05/word-image-6042-1024x337.png 1024w" sizes="(max-width: 1225px) 100vw, 1225px" /><br />
<img loading="lazy" decoding="async" width="856" height="204" class="wp-image-6636" src="/wp-content/uploads/2018/05/word-image-6043.png" srcset="/wp-content/uploads/2018/05/word-image-6043.png 856w, /wp-content/uploads/2018/05/word-image-6043-300x71.png 300w, /wp-content/uploads/2018/05/word-image-6043-768x183.png 768w" sizes="(max-width: 856px) 100vw, 856px" /></p>
<h3><a id="post-6479-__________3"></a><a id="post-6479-_Toc256000030"></a>生成内容静态页面</h3>
<p><img loading="lazy" decoding="async" width="1175" height="322" class="wp-image-6637" src="/wp-content/uploads/2018/05/word-image-6044.png" srcset="/wp-content/uploads/2018/05/word-image-6044.png 1175w, /wp-content/uploads/2018/05/word-image-6044-300x82.png 300w, /wp-content/uploads/2018/05/word-image-6044-768x210.png 768w, /wp-content/uploads/2018/05/word-image-6044-1024x281.png 1024w" sizes="(max-width: 1175px) 100vw, 1175px" /><br />
<img loading="lazy" decoding="async" width="832" height="525" class="wp-image-6638" src="/wp-content/uploads/2018/05/word-image-6045.png" srcset="/wp-content/uploads/2018/05/word-image-6045.png 832w, /wp-content/uploads/2018/05/word-image-6045-300x189.png 300w, /wp-content/uploads/2018/05/word-image-6045-768x485.png 768w" sizes="(max-width: 832px) 100vw, 832px" /></p>
<h1><a id="post-6479-_dedecms______"></a><a id="post-6479-_Toc256000031"></a>dedecms里面主要的表</h1>
<h2><a id="post-6479-_dede_channeltype_____"></a><a id="post-6479-_Toc256000032"></a>dede_channeltype（模型表）</h2>
<p><img loading="lazy" decoding="async" width="1482" height="462" class="wp-image-6639" src="/wp-content/uploads/2018/05/word-image-6046.png" srcset="/wp-content/uploads/2018/05/word-image-6046.png 1482w, /wp-content/uploads/2018/05/word-image-6046-300x94.png 300w, /wp-content/uploads/2018/05/word-image-6046-768x239.png 768w, /wp-content/uploads/2018/05/word-image-6046-1024x319.png 1024w" sizes="(max-width: 1482px) 100vw, 1482px" /></p>
<p>这个表主要使用与我们保存模型的</p>
<h2><a id="post-6479-_dede_arctype_____"></a><a id="post-6479-_Toc256000033"></a>dede_arctype（栏目表）</h2>
<p><img loading="lazy" decoding="async" width="1206" height="353" class="wp-image-6640" src="/wp-content/uploads/2018/05/word-image-6047.png" srcset="/wp-content/uploads/2018/05/word-image-6047.png 1206w, /wp-content/uploads/2018/05/word-image-6047-300x88.png 300w, /wp-content/uploads/2018/05/word-image-6047-768x225.png 768w, /wp-content/uploads/2018/05/word-image-6047-1024x300.png 1024w" sizes="(max-width: 1206px) 100vw, 1206px" /></p>
<h2><a id="post-6479-_deede_archives______"></a><a id="post-6479-_Toc256000034"></a>deede_archives(内容主表)</h2>
<p><img loading="lazy" decoding="async" width="1152" height="331" class="wp-image-6641" src="/wp-content/uploads/2018/05/word-image-6048.png" srcset="/wp-content/uploads/2018/05/word-image-6048.png 1152w, /wp-content/uploads/2018/05/word-image-6048-300x86.png 300w, /wp-content/uploads/2018/05/word-image-6048-768x221.png 768w, /wp-content/uploads/2018/05/word-image-6048-1024x294.png 1024w" sizes="(max-width: 1152px) 100vw, 1152px" /></p>
<h2><a id="post-6479-_dede_addonxxx_____"></a><a id="post-6479-_Toc256000035"></a>dede_addonxxx(附加表)</h2>
<p><img loading="lazy" decoding="async" width="1208" height="304" class="wp-image-6642" src="/wp-content/uploads/2018/05/word-image-6049.png" srcset="/wp-content/uploads/2018/05/word-image-6049.png 1208w, /wp-content/uploads/2018/05/word-image-6049-300x75.png 300w, /wp-content/uploads/2018/05/word-image-6049-768x193.png 768w, /wp-content/uploads/2018/05/word-image-6049-1024x258.png 1024w" sizes="(max-width: 1208px) 100vw, 1208px" /></p>
<p>每一个附加表,都是为了保存这个模型下面所独有的内容</p>
<h1><a id="post-6479-________4"></a><a id="post-6479-_Toc256000036"></a>表之间的关系</h1>
<h2><a id="post-6479-________"></a><a id="post-6479-_Toc256000037"></a>模型表与栏目表</h2>
<p>由于每个栏目必然要确定是哪一个模型下面的栏目所以这里dede_channeltype模型表中的id字段对应的就是dede_arctype栏目表中的channeltype字段进行关联</p>
<p><img loading="lazy" decoding="async" width="1264" height="758" class="wp-image-6643" src="/wp-content/uploads/2018/05/word-image-6050.png" srcset="/wp-content/uploads/2018/05/word-image-6050.png 1264w, /wp-content/uploads/2018/05/word-image-6050-300x180.png 300w, /wp-content/uploads/2018/05/word-image-6050-768x461.png 768w, /wp-content/uploads/2018/05/word-image-6050-1024x614.png 1024w" sizes="(max-width: 1264px) 100vw, 1264px" /></p>
<h2><a id="post-6479-__________4"></a><a id="post-6479-_Toc256000038"></a>内容主表与栏目表</h2>
<p>内容主表的typeid与栏目表中id是对应的</p>
<p><img loading="lazy" decoding="async" width="1193" height="792" class="wp-image-6644" src="/wp-content/uploads/2018/05/word-image-6051.png" srcset="/wp-content/uploads/2018/05/word-image-6051.png 1193w, /wp-content/uploads/2018/05/word-image-6051-300x199.png 300w, /wp-content/uploads/2018/05/word-image-6051-768x510.png 768w, /wp-content/uploads/2018/05/word-image-6051-1024x680.png 1024w" sizes="(max-width: 1193px) 100vw, 1193px" /></p>
<h2><a id="post-6479-__________5"></a><a id="post-6479-_Toc256000039"></a>内容主表和附加表</h2>
<p><img loading="lazy" decoding="async" width="1078" height="685" class="wp-image-6645" src="/wp-content/uploads/2018/05/word-image-6052.png" srcset="/wp-content/uploads/2018/05/word-image-6052.png 1078w, /wp-content/uploads/2018/05/word-image-6052-300x191.png 300w, /wp-content/uploads/2018/05/word-image-6052-768x488.png 768w, /wp-content/uploads/2018/05/word-image-6052-1024x651.png 1024w" sizes="(max-width: 1078px) 100vw, 1078px" /></p>
<p>这两个表中的typeid是相对应的</p>
<h1><a id="post-6479-_________________"></a><a id="post-6479-_Toc256000040"></a>开发一个电影网站（添加数据信息）</h1>
<h2><a id="post-6479-________5"></a><a id="post-6479-_Toc256000041"></a>创建电影模型</h2>
<p>a 创建模型的一个步骤</p>
<p>核心&#8212;-&gt;内容模型管理&#8212;&#8212;&#8211;&gt;增加模型</p>
<p><img loading="lazy" decoding="async" width="1856" height="483" class="wp-image-6646" src="/wp-content/uploads/2018/05/word-image-6053.png" srcset="/wp-content/uploads/2018/05/word-image-6053.png 1856w, /wp-content/uploads/2018/05/word-image-6053-300x78.png 300w, /wp-content/uploads/2018/05/word-image-6053-768x200.png 768w, /wp-content/uploads/2018/05/word-image-6053-1024x266.png 1024w" sizes="(max-width: 1856px) 100vw, 1856px" /></p>
<p>b 增加一个电影模型</p>
<p><img loading="lazy" decoding="async" width="1489" height="858" class="wp-image-6647" src="/wp-content/uploads/2018/05/word-image-6054.png" srcset="/wp-content/uploads/2018/05/word-image-6054.png 1489w, /wp-content/uploads/2018/05/word-image-6054-300x173.png 300w, /wp-content/uploads/2018/05/word-image-6054-768x443.png 768w, /wp-content/uploads/2018/05/word-image-6054-1024x590.png 1024w" sizes="(max-width: 1489px) 100vw, 1489px" /></p>
<p>增加成功之后的界面</p>
<p><img loading="lazy" decoding="async" width="1402" height="431" class="wp-image-6648" src="/wp-content/uploads/2018/05/word-image-6055.png" srcset="/wp-content/uploads/2018/05/word-image-6055.png 1402w, /wp-content/uploads/2018/05/word-image-6055-300x92.png 300w, /wp-content/uploads/2018/05/word-image-6055-768x236.png 768w, /wp-content/uploads/2018/05/word-image-6055-1024x315.png 1024w" sizes="(max-width: 1402px) 100vw, 1402px" /></p>
<p>模型所对应的附加表</p>
<p><img loading="lazy" decoding="async" width="606" height="299" class="wp-image-6649" src="/wp-content/uploads/2018/05/word-image-6056.png" srcset="/wp-content/uploads/2018/05/word-image-6056.png 606w, /wp-content/uploads/2018/05/word-image-6056-300x148.png 300w" sizes="(max-width: 606px) 100vw, 606px" /></p>
<h2><a id="post-6479-________6"></a><a id="post-6479-_Toc256000042"></a>添加属性字段</h2>
<p>因为增加模型时,默认添加的字端,不能满足我们的需求,所以我们要自己手动的增加一些字段.</p>
<p>a 更改已经创建好的模型</p>
<p><img loading="lazy" decoding="async" width="1845" height="452" class="wp-image-6650" src="/wp-content/uploads/2018/05/word-image-6057.png" srcset="/wp-content/uploads/2018/05/word-image-6057.png 1845w, /wp-content/uploads/2018/05/word-image-6057-300x73.png 300w, /wp-content/uploads/2018/05/word-image-6057-768x188.png 768w, /wp-content/uploads/2018/05/word-image-6057-1024x251.png 1024w" sizes="(max-width: 1845px) 100vw, 1845px" /><br />
<img loading="lazy" decoding="async" width="930" height="458" class="wp-image-6651" src="/wp-content/uploads/2018/05/word-image-6058.png" srcset="/wp-content/uploads/2018/05/word-image-6058.png 930w, /wp-content/uploads/2018/05/word-image-6058-300x148.png 300w, /wp-content/uploads/2018/05/word-image-6058-768x378.png 768w" sizes="(max-width: 930px) 100vw, 930px" /></p>
<p>b 添加主演字段</p>
<p><img loading="lazy" decoding="async" width="664" height="547" class="wp-image-6652" src="/wp-content/uploads/2018/05/word-image-6059.png" srcset="/wp-content/uploads/2018/05/word-image-6059.png 664w, /wp-content/uploads/2018/05/word-image-6059-300x247.png 300w" sizes="(max-width: 664px) 100vw, 664px" /></p>
<p>c 添加导演字段</p>
<p><img loading="lazy" decoding="async" width="966" height="701" class="wp-image-6653" src="/wp-content/uploads/2018/05/word-image-6060.png" srcset="/wp-content/uploads/2018/05/word-image-6060.png 966w, /wp-content/uploads/2018/05/word-image-6060-300x218.png 300w, /wp-content/uploads/2018/05/word-image-6060-768x557.png 768w" sizes="(max-width: 966px) 100vw, 966px" /></p>
<p>d 增加年代字段</p>
<p><img loading="lazy" decoding="async" width="665" height="510" class="wp-image-6654" src="/wp-content/uploads/2018/05/word-image-6061.png" srcset="/wp-content/uploads/2018/05/word-image-6061.png 665w, /wp-content/uploads/2018/05/word-image-6061-300x230.png 300w" sizes="(max-width: 665px) 100vw, 665px" /></p>
<p>e 增加语言的字段</p>
<p><img loading="lazy" decoding="async" width="1000" height="577" class="wp-image-6655" src="/wp-content/uploads/2018/05/word-image-6062.png" srcset="/wp-content/uploads/2018/05/word-image-6062.png 1000w, /wp-content/uploads/2018/05/word-image-6062-300x173.png 300w, /wp-content/uploads/2018/05/word-image-6062-768x443.png 768w" sizes="(max-width: 1000px) 100vw, 1000px" /></p>
<p>f 增加地区的字段</p>
<p><img loading="lazy" decoding="async" width="1506" height="579" class="wp-image-6656" src="/wp-content/uploads/2018/05/word-image-6063.png" srcset="/wp-content/uploads/2018/05/word-image-6063.png 1506w, /wp-content/uploads/2018/05/word-image-6063-300x115.png 300w, /wp-content/uploads/2018/05/word-image-6063-768x295.png 768w, /wp-content/uploads/2018/05/word-image-6063-1024x394.png 1024w" sizes="(max-width: 1506px) 100vw, 1506px" /></p>
<p>g 增加评分</p>
<p><img loading="lazy" decoding="async" width="933" height="603" class="wp-image-6657" src="/wp-content/uploads/2018/05/word-image-6064.png" srcset="/wp-content/uploads/2018/05/word-image-6064.png 933w, /wp-content/uploads/2018/05/word-image-6064-300x194.png 300w, /wp-content/uploads/2018/05/word-image-6064-768x496.png 768w" sizes="(max-width: 933px) 100vw, 933px" /></p>
<p>h 评分人数</p>
<p><img loading="lazy" decoding="async" width="736" height="537" class="wp-image-6658" src="/wp-content/uploads/2018/05/word-image-6065.png" srcset="/wp-content/uploads/2018/05/word-image-6065.png 736w, /wp-content/uploads/2018/05/word-image-6065-300x219.png 300w" sizes="(max-width: 736px) 100vw, 736px" /></p>
<p>j 增加简介的字段</p>
<p><img loading="lazy" decoding="async" width="950" height="644" class="wp-image-6659" src="/wp-content/uploads/2018/05/word-image-6066.png" srcset="/wp-content/uploads/2018/05/word-image-6066.png 950w, /wp-content/uploads/2018/05/word-image-6066-300x203.png 300w, /wp-content/uploads/2018/05/word-image-6066-768x521.png 768w, /wp-content/uploads/2018/05/word-image-6066-220x150.png 220w" sizes="(max-width: 950px) 100vw, 950px" /></p>
<p>字段增加完成之后的效果’</p>
<p><img loading="lazy" decoding="async" width="1646" height="383" class="wp-image-6660" src="/wp-content/uploads/2018/05/word-image-6067.png" srcset="/wp-content/uploads/2018/05/word-image-6067.png 1646w, /wp-content/uploads/2018/05/word-image-6067-300x70.png 300w, /wp-content/uploads/2018/05/word-image-6067-768x179.png 768w, /wp-content/uploads/2018/05/word-image-6067-1024x238.png 1024w" sizes="(max-width: 1646px) 100vw, 1646px" /></p>
<p>查看已经创建好的电影模型附加表所对应的字段</p>
<p><img loading="lazy" decoding="async" width="1133" height="213" class="wp-image-6661" src="/wp-content/uploads/2018/05/word-image-6068.png" srcset="/wp-content/uploads/2018/05/word-image-6068.png 1133w, /wp-content/uploads/2018/05/word-image-6068-300x56.png 300w, /wp-content/uploads/2018/05/word-image-6068-768x144.png 768w, /wp-content/uploads/2018/05/word-image-6068-1024x193.png 1024w" sizes="(max-width: 1133px) 100vw, 1133px" /></p>
<p>&nbsp;</p>
<h2><a id="post-6479-__________7"></a><a id="post-6479-_Toc256000046"></a>创建电影网站栏目</h2>
<p>顶级导航：我的电影、国产大片、原声影院、欧美大片、3D影院、公司简介、关于我们</p>
<p>我的电影：爱情、动作、科幻、惊悚、儿童、动漫</p>
<p>a 使用批量添加顶级导航栏目</p>
<p><img loading="lazy" decoding="async" width="1886" height="362" class="wp-image-6662" src="/wp-content/uploads/2018/05/word-image-6069.png" srcset="/wp-content/uploads/2018/05/word-image-6069.png 1886w, /wp-content/uploads/2018/05/word-image-6069-300x58.png 300w, /wp-content/uploads/2018/05/word-image-6069-768x147.png 768w, /wp-content/uploads/2018/05/word-image-6069-1024x197.png 1024w" sizes="(max-width: 1886px) 100vw, 1886px" /></p>
<p>b 增加导航栏目</p>
<p><img loading="lazy" decoding="async" width="1289" height="775" class="wp-image-6663" src="/wp-content/uploads/2018/05/word-image-6070.png" srcset="/wp-content/uploads/2018/05/word-image-6070.png 1289w, /wp-content/uploads/2018/05/word-image-6070-300x180.png 300w, /wp-content/uploads/2018/05/word-image-6070-768x462.png 768w, /wp-content/uploads/2018/05/word-image-6070-1024x616.png 1024w" sizes="(max-width: 1289px) 100vw, 1289px" /></p>
<p>将公司简介,和关于我们两个栏目添加成为文章类型的</p>
<p>增加之后的页面</p>
<p><img loading="lazy" decoding="async" width="1701" height="525" class="wp-image-6664" src="/wp-content/uploads/2018/05/word-image-6071.png" srcset="/wp-content/uploads/2018/05/word-image-6071.png 1701w, /wp-content/uploads/2018/05/word-image-6071-300x93.png 300w, /wp-content/uploads/2018/05/word-image-6071-768x237.png 768w, /wp-content/uploads/2018/05/word-image-6071-1024x316.png 1024w" sizes="(max-width: 1701px) 100vw, 1701px" /></p>
<h2><a id="post-6479-__________8"></a><a id="post-6479-_Toc256000047"></a>添加具体电影数据</h2>
<p>a 在内容管理中添加电影数据</p>
<p><img loading="lazy" decoding="async" width="637" height="571" class="wp-image-6665" src="/wp-content/uploads/2018/05/word-image-6072.png" srcset="/wp-content/uploads/2018/05/word-image-6072.png 637w, /wp-content/uploads/2018/05/word-image-6072-300x269.png 300w" sizes="(max-width: 637px) 100vw, 637px" /></p>
<p>b 增加电影数据:</p>
<p><img loading="lazy" decoding="async" width="1094" height="556" class="wp-image-6666" src="/wp-content/uploads/2018/05/word-image-6073.png" srcset="/wp-content/uploads/2018/05/word-image-6073.png 1094w, /wp-content/uploads/2018/05/word-image-6073-300x152.png 300w, /wp-content/uploads/2018/05/word-image-6073-768x390.png 768w, /wp-content/uploads/2018/05/word-image-6073-1024x520.png 1024w" sizes="(max-width: 1094px) 100vw, 1094px" /><br />
<img loading="lazy" decoding="async" width="1075" height="748" class="wp-image-6668" src="/wp-content/uploads/2018/05/word-image-6075.png" srcset="/wp-content/uploads/2018/05/word-image-6075.png 1075w, /wp-content/uploads/2018/05/word-image-6075-300x209.png 300w, /wp-content/uploads/2018/05/word-image-6075-768x534.png 768w, /wp-content/uploads/2018/05/word-image-6075-1024x713.png 1024w" sizes="(max-width: 1075px) 100vw, 1075px" /></p>
<h1><a id="post-6479-__________9"></a><a id="post-6479-_Toc256000048"></a>制作电影网站首页</h1>
<h2><a id="post-6479-___________"></a><a id="post-6479-_Toc256000049"></a>复制模板文件到项目中</h2>
<p>a 将我们的模板复制到templets中</p>
<p><img loading="lazy" decoding="async" width="976" height="272" class="wp-image-6670" src="/wp-content/uploads/2018/05/word-image-6077.png" srcset="/wp-content/uploads/2018/05/word-image-6077.png 976w, /wp-content/uploads/2018/05/word-image-6077-300x84.png 300w, /wp-content/uploads/2018/05/word-image-6077-768x214.png 768w" sizes="(max-width: 976px) 100vw, 976px" /></p>
<h2><a id="post-6479-_____________2"></a><a id="post-6479-_Toc256000050"></a>修改模板文件的默认风格</h2>
<p>修改dede默认加载静态页面的路径</p>
<p><img loading="lazy" decoding="async" width="1197" height="628" class="wp-image-6672" src="/wp-content/uploads/2018/05/word-image-6079.png" srcset="/wp-content/uploads/2018/05/word-image-6079.png 1197w, /wp-content/uploads/2018/05/word-image-6079-300x157.png 300w, /wp-content/uploads/2018/05/word-image-6079-768x403.png 768w, /wp-content/uploads/2018/05/word-image-6079-1024x537.png 1024w" sizes="(max-width: 1197px) 100vw, 1197px" /></p>
<h2><a id="post-6479-__a67______"></a><a id="post-6479-_Toc256000051"></a>将a67模板首页改名,作为整个网站的首页</h2>
<p><img loading="lazy" decoding="async" width="939" height="279" class="wp-image-6674" src="/wp-content/uploads/2018/05/word-image-6081.png" srcset="/wp-content/uploads/2018/05/word-image-6081.png 939w, /wp-content/uploads/2018/05/word-image-6081-300x89.png 300w, /wp-content/uploads/2018/05/word-image-6081-768x228.png 768w" sizes="(max-width: 939px) 100vw, 939px" /></p>
<h2><a id="post-6479-__________10"></a><a id="post-6479-_Toc256000052"></a>生成首页文件</h2>
<p>a 在生成栏目下找到更新主页html页面的按钮’</p>
<p><img loading="lazy" decoding="async" width="1147" height="367" class="wp-image-6676" src="/wp-content/uploads/2018/05/word-image-6083.png" srcset="/wp-content/uploads/2018/05/word-image-6083.png 1147w, /wp-content/uploads/2018/05/word-image-6083-300x96.png 300w, /wp-content/uploads/2018/05/word-image-6083-768x246.png 768w, /wp-content/uploads/2018/05/word-image-6083-1024x328.png 1024w" sizes="(max-width: 1147px) 100vw, 1147px" /></p>
<p>b 选择a67下面的index.htm文件</p>
<p><img loading="lazy" decoding="async" width="873" height="353" class="wp-image-6678" src="/wp-content/uploads/2018/05/word-image-6085.png" srcset="/wp-content/uploads/2018/05/word-image-6085.png 873w, /wp-content/uploads/2018/05/word-image-6085-300x121.png 300w, /wp-content/uploads/2018/05/word-image-6085-768x311.png 768w" sizes="(max-width: 873px) 100vw, 873px" /></p>
<p>c 首页更新成功</p>
<p><img loading="lazy" decoding="async" width="1008" height="595" class="wp-image-6679" src="/wp-content/uploads/2018/05/word-image-6086.png" srcset="/wp-content/uploads/2018/05/word-image-6086.png 1008w, /wp-content/uploads/2018/05/word-image-6086-300x177.png 300w, /wp-content/uploads/2018/05/word-image-6086-768x453.png 768w" sizes="(max-width: 1008px) 100vw, 1008px" /></p>
<h2>修改首页资源路径</h2>
<p>此时的常量所代表的路径:</p>
<p><img loading="lazy" decoding="async" width="696" height="80" class="wp-image-6681" src="/wp-content/uploads/2018/05/word-image-6088.png" srcset="/wp-content/uploads/2018/05/word-image-6088.png 696w, /wp-content/uploads/2018/05/word-image-6088-300x34.png 300w" sizes="(max-width: 696px) 100vw, 696px" /></p>
<p>a 新建一个demo.html文件测试</p>
<p><img loading="lazy" decoding="async" width="1135" height="586" class="wp-image-6684" src="/wp-content/uploads/2018/05/word-image-6090.png" srcset="/wp-content/uploads/2018/05/word-image-6090.png 1135w, /wp-content/uploads/2018/05/word-image-6090-300x155.png 300w, /wp-content/uploads/2018/05/word-image-6090-768x397.png 768w, /wp-content/uploads/2018/05/word-image-6090-1024x529.png 1024w" sizes="(max-width: 1135px) 100vw, 1135px" /></p>
<p>b 重新生成首页文件,显示出路径</p>
<p><img loading="lazy" decoding="async" width="868" height="269" class="wp-image-6687" src="/wp-content/uploads/2018/05/word-image-6093.png" srcset="/wp-content/uploads/2018/05/word-image-6093.png 868w, /wp-content/uploads/2018/05/word-image-6093-300x93.png 300w, /wp-content/uploads/2018/05/word-image-6093-768x238.png 768w" sizes="(max-width: 868px) 100vw, 868px" /></p>
<p>c 更新主页html之后重新生成的页面,路径的输出结果如下</p>
<p><img loading="lazy" decoding="async" width="664" height="172" class="wp-image-6689" src="/wp-content/uploads/2018/05/word-image-6095.png" srcset="/wp-content/uploads/2018/05/word-image-6095.png 664w, /wp-content/uploads/2018/05/word-image-6095-300x78.png 300w" sizes="(max-width: 664px) 100vw, 664px" /></p>
<p>d 将index.htm中的静态资源路劲进行修改</p>
<p><img loading="lazy" decoding="async" width="1021" height="316" class="wp-image-6691" src="/wp-content/uploads/2018/05/word-image-6097.png" srcset="/wp-content/uploads/2018/05/word-image-6097.png 1021w, /wp-content/uploads/2018/05/word-image-6097-300x93.png 300w, /wp-content/uploads/2018/05/word-image-6097-768x238.png 768w" sizes="(max-width: 1021px) 100vw, 1021px" /></p>
<p>路径修改完成之后,重新生成主页html页面,并且进行访问</p>
<p><img loading="lazy" decoding="async" width="1156" height="469" class="wp-image-6693" src="/wp-content/uploads/2018/05/word-image-6099.png" srcset="/wp-content/uploads/2018/05/word-image-6099.png 1156w, /wp-content/uploads/2018/05/word-image-6099-300x122.png 300w, /wp-content/uploads/2018/05/word-image-6099-768x312.png 768w, /wp-content/uploads/2018/05/word-image-6099-1024x415.png 1024w" sizes="(max-width: 1156px) 100vw, 1156px" /></p>
<h1><a id="post-6479-_dede_____"></a><a id="post-6479-_Toc256000054"></a>dede里面的标签</h1>
<h2><a id="post-6479-____"></a><a id="post-6479-_Toc256000055"></a>单标签</h2>
<p>语法格式：</p>
<p>{dede:标签名称 属性1=属性值1 /}</p>
<p>例如：</p>
<p>{dede:global.cfg_templets_skin/}</p>
<p>{dede:include filename=&#8221;head.html&#8221;/} 表示包含一个外部文件</p>
<p>注意：很多单标签以global开头的变量值都是在common.inc.php这个文件中进行定义的</p>
<p><img loading="lazy" decoding="async" width="1249" height="706" class="wp-image-6695" src="/wp-content/uploads/2018/05/word-image-6101.png" srcset="/wp-content/uploads/2018/05/word-image-6101.png 1249w, /wp-content/uploads/2018/05/word-image-6101-300x170.png 300w, /wp-content/uploads/2018/05/word-image-6101-768x434.png 768w, /wp-content/uploads/2018/05/word-image-6101-1024x579.png 1024w" sizes="(max-width: 1249px) 100vw, 1249px" /></p>
<h2><a id="post-6479-_____2"></a><a id="post-6479-_Toc256000056"></a>双标签</h2>
<p>语法格式：</p>
<p>{dede:标签名称 属性1=属性值1 属性2=属性值2}</p>
<p>[field:字段名称/]</p>
<p>{/dede:标签名称}</p>
<p>注意：</p>
<p>1、dede后面要有一个冒号：</p>
<p>2、标签名和属性之间要有空格</p>
<p>3、属性与属性之间也要有空格分开</p>
<p>4、结束双标签要以斜线打头</p>
<p>5、[field:字段名称/]里面的字段名称，一般是双标签所操作的表里面的字段名称</p>
<p>举个栗子：</p>
<p>{dede:channel type=&#8217;top&#8217; row=&#8217;10&#8217; }</p>
<p>&lt;li&gt;&lt;a href='[field:typeurl/]&#8217; [field:rel/]&gt;&lt;span&gt;[field:typename/]&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</p>
<p>{/dede:channel}</p>
<p>每一个双标签都对应一个解析文件，通过该解析文件完成标签到PHP代码的转换。</p>
<p>解析标签为sql语句的,文件位置</p>
<p><img loading="lazy" decoding="async" width="588" height="582" class="wp-image-6697" src="/wp-content/uploads/2018/05/word-image-6103.png" srcset="/wp-content/uploads/2018/05/word-image-6103.png 588w, /wp-content/uploads/2018/05/word-image-6103-300x297.png 300w" sizes="(max-width: 588px) 100vw, 588px" /></p>
<p>所有的前段使用的取数据的标签都在php中被解析了</p>
<h3><a id="post-6479-______"></a><a id="post-6479-_Toc256000057"></a>常用双标签</h3>
<p>channel 取出栏目数据的标签</p>
<p>arclist 取出文章的标签</p>
<p>channnelartlist 取出栏目和栏目下的所有数据</p>
<p>标签的定影位置:</p>
<p><img loading="lazy" decoding="async" width="1505" height="585" class="wp-image-6699" src="/wp-content/uploads/2018/05/word-image-6105.png" srcset="/wp-content/uploads/2018/05/word-image-6105.png 1505w, /wp-content/uploads/2018/05/word-image-6105-300x117.png 300w, /wp-content/uploads/2018/05/word-image-6105-768x299.png 768w, /wp-content/uploads/2018/05/word-image-6105-1024x398.png 1024w" sizes="(max-width: 1505px) 100vw, 1505px" /></p>
<h1><a id="post-6479-____________2"></a><a id="post-6479-_Toc256000058"></a>取出首页中的栏目数据</h1>
<p>使用channel标签取出数据库中的数据进行显示:</p>
<p>举个栗子：</p>
<p>{dede:channel type=&#8217;top&#8217; row=&#8217;10&#8217; }</p>
<p>&lt;li&gt;&lt;a href='[field:typeurl/]&#8217; [field:rel/]&gt;&lt;span&gt;[field:typename/]&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</p>
<p>{/dede:channel}</p>
<p>type:top表示取出顶级标签</p>
<p>row:10 取出十条数据</p>
<p>a 使用demo.html页面进行测试</p>
<p><img loading="lazy" decoding="async" width="1099" height="248" class="wp-image-6701" src="/wp-content/uploads/2018/05/word-image-6107.png" srcset="/wp-content/uploads/2018/05/word-image-6107.png 1099w, /wp-content/uploads/2018/05/word-image-6107-300x68.png 300w, /wp-content/uploads/2018/05/word-image-6107-768x173.png 768w, /wp-content/uploads/2018/05/word-image-6107-1024x231.png 1024w" sizes="(max-width: 1099px) 100vw, 1099px" /></p>
<p>输出的效果如下:</p>
<p><img loading="lazy" decoding="async" width="399" height="313" class="wp-image-6702" src="/wp-content/uploads/2018/05/word-image-6108.png" srcset="/wp-content/uploads/2018/05/word-image-6108.png 399w, /wp-content/uploads/2018/05/word-image-6108-300x235.png 300w" sizes="(max-width: 399px) 100vw, 399px" /></p>
<p>b 在首页index.htm中使用channel标签,输出顶级栏目</p>
<p><img loading="lazy" decoding="async" width="1317" height="314" class="wp-image-6704" src="/wp-content/uploads/2018/05/word-image-6110.png" srcset="/wp-content/uploads/2018/05/word-image-6110.png 1317w, /wp-content/uploads/2018/05/word-image-6110-300x72.png 300w, /wp-content/uploads/2018/05/word-image-6110-768x183.png 768w, /wp-content/uploads/2018/05/word-image-6110-1024x244.png 1024w" sizes="(max-width: 1317px) 100vw, 1317px" /></p>
<p>c 重新生成index.htm页面</p>
<p><img loading="lazy" decoding="async" width="1223" height="433" class="wp-image-6707" src="/wp-content/uploads/2018/05/word-image-6113.png" srcset="/wp-content/uploads/2018/05/word-image-6113.png 1223w, /wp-content/uploads/2018/05/word-image-6113-300x106.png 300w, /wp-content/uploads/2018/05/word-image-6113-768x272.png 768w, /wp-content/uploads/2018/05/word-image-6113-1024x363.png 1024w" sizes="(max-width: 1223px) 100vw, 1223px" /></p>
<p>查看效果:</p>
<p><img loading="lazy" decoding="async" width="820" height="325" class="wp-image-6709" src="/wp-content/uploads/2018/05/word-image-6115.png" srcset="/wp-content/uploads/2018/05/word-image-6115.png 820w, /wp-content/uploads/2018/05/word-image-6115-300x119.png 300w, /wp-content/uploads/2018/05/word-image-6115-768x304.png 768w" sizes="(max-width: 820px) 100vw, 820px" /></p>
<p>顶级栏目就显示完成</p>
<h1><a id="post-6479-_______________"></a><a id="post-6479-_Toc256000059"></a>取出“我的电影”栏目的子栏目</h1>
<p>这里我们还要使用channel标签</p>
<p><img loading="lazy" decoding="async" width="1137" height="292" class="wp-image-6711" src="/wp-content/uploads/2018/05/word-image-6117.png" srcset="/wp-content/uploads/2018/05/word-image-6117.png 1137w, /wp-content/uploads/2018/05/word-image-6117-300x77.png 300w, /wp-content/uploads/2018/05/word-image-6117-768x197.png 768w, /wp-content/uploads/2018/05/word-image-6117-1024x263.png 1024w" sizes="(max-width: 1137px) 100vw, 1137px" /></p>
<p>重新生成index.htm查看效果</p>
<p><img loading="lazy" decoding="async" width="1227" height="295" class="wp-image-6712" src="/wp-content/uploads/2018/05/word-image-6118.png" srcset="/wp-content/uploads/2018/05/word-image-6118.png 1227w, /wp-content/uploads/2018/05/word-image-6118-300x72.png 300w, /wp-content/uploads/2018/05/word-image-6118-768x185.png 768w, /wp-content/uploads/2018/05/word-image-6118-1024x246.png 1024w" sizes="(max-width: 1227px) 100vw, 1227px" /><br />
<img loading="lazy" decoding="async" width="1130" height="189" class="wp-image-6714" src="/wp-content/uploads/2018/05/word-image-6120.png" srcset="/wp-content/uploads/2018/05/word-image-6120.png 1130w, /wp-content/uploads/2018/05/word-image-6120-300x50.png 300w, /wp-content/uploads/2018/05/word-image-6120-768x128.png 768w, /wp-content/uploads/2018/05/word-image-6120-1024x171.png 1024w" sizes="(max-width: 1130px) 100vw, 1130px" /></p>
<p>多学一招:解析channel标签的使用,</p>
<p>每一个标签都是对应的一个PHP文件</p>
<p><img loading="lazy" decoding="async" width="814" height="656" class="wp-image-6716" src="/wp-content/uploads/2018/05/word-image-6122.png" srcset="/wp-content/uploads/2018/05/word-image-6122.png 814w, /wp-content/uploads/2018/05/word-image-6122-300x242.png 300w, /wp-content/uploads/2018/05/word-image-6122-768x619.png 768w" sizes="(max-width: 814px) 100vw, 814px" /></p>
<p>在channel.lib.php中打印出执行的sql语句</p>
<p><img loading="lazy" decoding="async" width="746" height="224" class="wp-image-6718" src="/wp-content/uploads/2018/05/word-image-6124.png" srcset="/wp-content/uploads/2018/05/word-image-6124.png 746w, /wp-content/uploads/2018/05/word-image-6124-300x90.png 300w" sizes="(max-width: 746px) 100vw, 746px" /></p>
<p>打印到的效果如下:</p>
<p><img loading="lazy" decoding="async" width="1536" height="188" class="wp-image-6720" src="/wp-content/uploads/2018/05/word-image-6126.png" srcset="/wp-content/uploads/2018/05/word-image-6126.png 1536w, /wp-content/uploads/2018/05/word-image-6126-300x37.png 300w, /wp-content/uploads/2018/05/word-image-6126-768x94.png 768w, /wp-content/uploads/2018/05/word-image-6126-1024x125.png 1024w" sizes="(max-width: 1536px) 100vw, 1536px" /></p>
<p>这里虽然调用了标签,但是他的后面确实跟着一个php文件</p>
<h1><a id="post-6479-__________________2"></a><a id="post-6479-_Toc256000060"></a>取出如下电影数据（首页专题电影）</h1>
<h2><a id="post-6479-___arclist____"></a><a id="post-6479-_Toc256000061"></a>使用arclist标签实现</h2>
<h3><a id="post-6479-_channelid__"></a><a id="post-6479-_Toc256000062"></a>channelid属性</h3>
<p>用来确定是哪个模型下面的数据信息以及确定哪个附加表进行关联</p>
<h3><a id="post-6479-_addfields__"></a><a id="post-6479-_Toc256000063"></a>addfields属性</h3>
<p>如果不使用addfields属性，则只会关联内容主表和栏目表进行数据查询，所以当我们需要查询附加表中的数据时就必须要使用addfields属性。这个属性标明附加表dede_addmovie需要使用的字段.</p>
<p>格式：addfields=“字段1,字段2,字段3”;//指定的是要从附加表中获取的字段信息列表。</p>
<p>注意：要想从附加表中取得数据那么就必须同时使用addfields属性和channelid属性</p>
<p>取出数据的代码：</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6479.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>DedeCMS二次开发（二）完成电影评分榜、输出栏目数据、制作头部文件、制作栏目模板页</title>
		<link>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6405.html</link>
					<comments>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6405.html#respond</comments>
		
		<dc:creator><![CDATA[Mr.Lee]]></dc:creator>
		<pubDate>Sat, 19 May 2018 16:43:22 +0000</pubDate>
				<category><![CDATA[DedeCMS]]></category>
		<category><![CDATA[二次开发]]></category>
		<category><![CDATA[制作头部文件]]></category>
		<category><![CDATA[制作栏目模板页]]></category>
		<category><![CDATA[完成电影评分榜]]></category>
		<category><![CDATA[输出栏目数据]]></category>
		<guid isPermaLink="false">/?p=6405</guid>

					<description><![CDATA[dedecms第二天 取出最新更新电影数据 页面数据的分析: 这里面需要有图片,标题,评分值还有评分的星星.  [&#8230;]]]></description>
										<content:encoded><![CDATA[<p><a id="post-6405-_dedecms___"></a><a id="post-6405-_Toc256000000"></a><br />
  dedecms第二天
</p>
<h1><a id="post-6405-___________"></a><a id="post-6405-_Toc256000002"></a>取出最新更新电影数据</h1>
<p>
  页面数据的分析:
</p>
<p><img loading="lazy" decoding="async" width="735" height="350" src="/wp-content/uploads/2018/05/word-image-5838.png" class="wp-image-6406" srcset="/wp-content/uploads/2018/05/word-image-5838.png 735w, /wp-content/uploads/2018/05/word-image-5838-300x143.png 300w" sizes="(max-width: 735px) 100vw, 735px" /></p>
<p>
  这里面需要有图片,标题,评分值还有评分的星星.
</p>
<p>
  使用标签取出我们的数据:
</p>
<p>
   这个地方我们需要使用arclist标签,取出四个电影数据
</p>
<p><img loading="lazy" decoding="async" width="1343" height="507" src="/wp-content/uploads/2018/05/word-image-5839.png" class="wp-image-6407" srcset="/wp-content/uploads/2018/05/word-image-5839.png 1343w, /wp-content/uploads/2018/05/word-image-5839-300x113.png 300w, /wp-content/uploads/2018/05/word-image-5839-768x290.png 768w, /wp-content/uploads/2018/05/word-image-5839-1024x387.png 1024w" sizes="(max-width: 1343px) 100vw, 1343px" /></p>
<p>
  在dede的标签中实现自增的效果
</p>
<p>
  [field:global.autoindex /]  这个可以实现自增,从1开始 相当于$i+
</p>
<p>
  dede中调用自定函数的写法:
</p>
<p>
  [field:pfz function=”getStar(@me)” /] 这里的@me表示传值的意思
</p>
<p>
  重点:评分的星星的实现:
</p>
<p>
  思路:因为我们设置的总分是10分,一个星星表示两分.那么总的应该输出5个星星.我们评分的值除以2,得出金星星的个数,然后使用5减去金星星的个数,就可以得出灰星星的个数.
</p>
<p>
  注意:实现评分星星个数的函数要写在include/extend.func.php文件中
</p>
<p><img loading="lazy" decoding="async" width="988" height="535" src="/wp-content/uploads/2018/05/word-image-5840.png" class="wp-image-6408" srcset="/wp-content/uploads/2018/05/word-image-5840.png 988w, /wp-content/uploads/2018/05/word-image-5840-300x162.png 300w, /wp-content/uploads/2018/05/word-image-5840-768x416.png 768w" sizes="(max-width: 988px) 100vw, 988px" /></p>
<p>
  效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="733" height="260" src="/wp-content/uploads/2018/05/word-image-5841.png" class="wp-image-6409" srcset="/wp-content/uploads/2018/05/word-image-5841.png 733w, /wp-content/uploads/2018/05/word-image-5841-300x106.png 300w" sizes="(max-width: 733px) 100vw, 733px" /></p>
<h1><a id="post-6405-________"></a><a id="post-6405-_Toc256000003"></a>完成电影评分榜</h1>
<p><img loading="lazy" decoding="async" width="284" height="466" src="/wp-content/uploads/2018/05/word-image-5842.png" class="wp-image-6410" srcset="/wp-content/uploads/2018/05/word-image-5842.png 284w, /wp-content/uploads/2018/05/word-image-5842-183x300.png 183w" sizes="(max-width: 284px) 100vw, 284px" /></p>
<p>
  实现的效果如上所示:分析
</p>
<p>
  前三个的排序号,要实现变色.评分中要从高到底进行排列.
</p>
<p>
  取出的字段包含:电影名称,评分值
</p>
<p>
  	a 分析index.html中原来代码的规律
</p>
<p><img loading="lazy" decoding="async" width="898" height="196" src="/wp-content/uploads/2018/05/word-image-5843.png" class="wp-image-6411" srcset="/wp-content/uploads/2018/05/word-image-5843.png 898w, /wp-content/uploads/2018/05/word-image-5843-300x65.png 300w, /wp-content/uploads/2018/05/word-image-5843-768x168.png 768w" sizes="(max-width: 898px) 100vw, 898px" /></p>
<p>
  b 在页面中使用arclist取出电影的数据,并且实现他们的排序:
</p>
<p><img loading="lazy" decoding="async" width="1227" height="481" src="/wp-content/uploads/2018/05/word-image-5844.png" class="wp-image-6412" srcset="/wp-content/uploads/2018/05/word-image-5844.png 1227w, /wp-content/uploads/2018/05/word-image-5844-300x118.png 300w, /wp-content/uploads/2018/05/word-image-5844-768x301.png 768w, /wp-content/uploads/2018/05/word-image-5844-1024x401.png 1024w" sizes="(max-width: 1227px) 100vw, 1227px" /></p>
<p>
  实现的页面效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="334" height="256" src="/wp-content/uploads/2018/05/word-image-5845.png" class="wp-image-6413" srcset="/wp-content/uploads/2018/05/word-image-5845.png 334w, /wp-content/uploads/2018/05/word-image-5845-300x230.png 300w" sizes="(max-width: 334px) 100vw, 334px" /></p>
<p>
  多学一招:在得的标签中让原生的php代码生效的写法:
</p>
<p>
  语法：
</p>
<p>
  [field:字段名称 runphp=”yes”]
</p>
<p>
     if(@me){
</p>
<p>
  			//具体的代码
</p>
<p>
     }
</p>
<p>
  [/field:字段名称]
</p>
<p>
  注意：runphp=”yes”属性是指，当前字段标签里面要使用业务逻辑。
</p>
<p>
  实现排序并加上自定义样式的完整代码
</p>
<p>
  实现页面排序效果的代码
</p>
<p><img loading="lazy" decoding="async" width="755" height="285" src="/wp-content/uploads/2018/05/word-image-5846.png" class="wp-image-6414" srcset="/wp-content/uploads/2018/05/word-image-5846.png 755w, /wp-content/uploads/2018/05/word-image-5846-300x113.png 300w" sizes="(max-width: 755px) 100vw, 755px" /></p>
<p>
  实现的效果如下:
</p>
<p><img loading="lazy" decoding="async" width="189" height="121" src="/wp-content/uploads/2018/05/word-image-5847.png" class="wp-image-6415" /></p>
<h2><a id="post-6405-______"></a><a id="post-6405-_Toc256000004"></a>自定义排序</h2>
<p>
  因为我们要排序的话,肯定是根据评分值进行排序的,所以我们要在adonmovie这个附加表中,实现其排序.
</p>
<p>
  打印出arclist标签的sql解析语句:
</p>
<p><img loading="lazy" decoding="async" width="1013" height="242" src="/wp-content/uploads/2018/05/word-image-5848.png" class="wp-image-6416" srcset="/wp-content/uploads/2018/05/word-image-5848.png 1013w, /wp-content/uploads/2018/05/word-image-5848-300x72.png 300w, /wp-content/uploads/2018/05/word-image-5848-768x183.png 768w" sizes="(max-width: 1013px) 100vw, 1013px" /><br />
<img loading="lazy" decoding="async" width="848" height="232" src="/wp-content/uploads/2018/05/word-image-5849.png" class="wp-image-6417" srcset="/wp-content/uploads/2018/05/word-image-5849.png 848w, /wp-content/uploads/2018/05/word-image-5849-300x82.png 300w, /wp-content/uploads/2018/05/word-image-5849-768x210.png 768w" sizes="(max-width: 848px) 100vw, 848px" /><br />
<img loading="lazy" decoding="async" width="1475" height="170" src="/wp-content/uploads/2018/05/word-image-5850.png" class="wp-image-6418" srcset="/wp-content/uploads/2018/05/word-image-5850.png 1475w, /wp-content/uploads/2018/05/word-image-5850-300x35.png 300w, /wp-content/uploads/2018/05/word-image-5850-768x89.png 768w, /wp-content/uploads/2018/05/word-image-5850-1024x118.png 1024w" sizes="(max-width: 1475px) 100vw, 1475px" /></p>
<p>
  这个sql语句中虽然连了addonmovie这个表,但是呢并没有根据pfz进行排序的规则.
</p>
<p>
  从sql语句中可以知道,addonmovie这个表的别名是addf.
</p>
<p>
  在arclist的文件中,添加一段代码,实现按照评分值的排序
</p>
<p><img loading="lazy" decoding="async" width="1132" height="228" src="/wp-content/uploads/2018/05/word-image-5851.png" class="wp-image-6419" srcset="/wp-content/uploads/2018/05/word-image-5851.png 1132w, /wp-content/uploads/2018/05/word-image-5851-300x60.png 300w, /wp-content/uploads/2018/05/word-image-5851-768x155.png 768w, /wp-content/uploads/2018/05/word-image-5851-1024x206.png 1024w" sizes="(max-width: 1132px) 100vw, 1132px" /></p>
<p>
  添加评分排序之后的sql语句,注意调用的时候要写上排序的条件:
</p>
<p><img loading="lazy" decoding="async" width="1226" height="196" src="/wp-content/uploads/2018/05/word-image-5852.png" class="wp-image-6420" srcset="/wp-content/uploads/2018/05/word-image-5852.png 1226w, /wp-content/uploads/2018/05/word-image-5852-300x48.png 300w, /wp-content/uploads/2018/05/word-image-5852-768x123.png 768w, /wp-content/uploads/2018/05/word-image-5852-1024x164.png 1024w" sizes="(max-width: 1226px) 100vw, 1226px" /></p>
<p>
  打印的sql语句如下所示:
</p>
<p><img loading="lazy" decoding="async" width="1349" height="244" src="/wp-content/uploads/2018/05/word-image-5853.png" class="wp-image-6421" srcset="/wp-content/uploads/2018/05/word-image-5853.png 1349w, /wp-content/uploads/2018/05/word-image-5853-300x54.png 300w, /wp-content/uploads/2018/05/word-image-5853-768x139.png 768w, /wp-content/uploads/2018/05/word-image-5853-1024x185.png 1024w" sizes="(max-width: 1349px) 100vw, 1349px" /></p>
<p><a id="post-6405-_______________"></a>
</p>
<h1><a id="post-6405-____________"></a><a id="post-6405-_Toc256000006"></a>输出栏目以及栏目下数据</h1>
<p>
  对页面效果的分析:
</p>
<p><img loading="lazy" decoding="async" width="730" height="176" src="/wp-content/uploads/2018/05/word-image-5854.png" class="wp-image-6422" srcset="/wp-content/uploads/2018/05/word-image-5854.png 730w, /wp-content/uploads/2018/05/word-image-5854-300x72.png 300w" sizes="(max-width: 730px) 100vw, 730px" /></p>
<h2><a id="post-6405-_channelartlist________"></a><a id="post-6405-_Toc256000007"></a>channelartlist标签实现循环嵌套</h2>
<p>
  语法格式：
</p>
<p>
  {dede:channelartlist}
</p>
<p>
  		<strong>{dede:field name=’字段名称’/}</strong>//第一层循环输出的内容
</p>
<p>
  		{dede:channel|arclist }
</p>
<p>
  				[field:字段名称]
</p>
<p>
  		{/dede:channel|arclist}
</p>
<p>
  {/dede:channelartlist}
</p>
<p>
  channelartlist标签可以实现循环嵌套效果，一般情况和channel标签或者arclist标签配合使用
</p>
<p>
  案例：将当前电影网站的顶级栏目以及其子栏目循环遍历出来。这里的typeid对应arctype栏目表中reid
</p>
<p>
  a 直接在html页面中循环取出我们需要的数据
</p>
<p><img loading="lazy" decoding="async" width="916" height="546" src="/wp-content/uploads/2018/05/word-image-5855.png" class="wp-image-6423" srcset="/wp-content/uploads/2018/05/word-image-5855.png 916w, /wp-content/uploads/2018/05/word-image-5855-300x179.png 300w, /wp-content/uploads/2018/05/word-image-5855-768x458.png 768w" sizes="(max-width: 916px) 100vw, 916px" /></p>
<p>
  b 展示的效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="682" height="171" src="/wp-content/uploads/2018/05/word-image-5856.png" class="wp-image-6424" srcset="/wp-content/uploads/2018/05/word-image-5856.png 682w, /wp-content/uploads/2018/05/word-image-5856-300x75.png 300w" sizes="(max-width: 682px) 100vw, 682px" /></p>
<h1><a id="post-6405-____________2"></a><a id="post-6405-_Toc256000008"></a>单独制作一个头部文件</h1>
<p>
  需求:我们需要将所有的页面的公共部分,制作成为一个公用的头部,这样我们在使用的时候直接引入即可
</p>
<p><img loading="lazy" decoding="async" width="1418" height="368" src="/wp-content/uploads/2018/05/word-image-5857.png" class="wp-image-6425" srcset="/wp-content/uploads/2018/05/word-image-5857.png 1418w, /wp-content/uploads/2018/05/word-image-5857-300x78.png 300w, /wp-content/uploads/2018/05/word-image-5857-768x199.png 768w, /wp-content/uploads/2018/05/word-image-5857-1024x266.png 1024w" sizes="(max-width: 1418px) 100vw, 1418px" /></p>
<p>
  a 在tmplets/a67下眠声明一个header.html文件
</p>
<p><img loading="lazy" decoding="async" width="839" height="287" src="/wp-content/uploads/2018/05/word-image-5858.png" class="wp-image-6426" srcset="/wp-content/uploads/2018/05/word-image-5858.png 839w, /wp-content/uploads/2018/05/word-image-5858-300x103.png 300w, /wp-content/uploads/2018/05/word-image-5858-768x263.png 768w" sizes="(max-width: 839px) 100vw, 839px" /></p>
<p>
  b 从index.html中拿到公共页面的html代码,放在header中
</p>
<p>
  公共代码开始的位置
</p>
<p><img loading="lazy" decoding="async" width="423" height="173" src="/wp-content/uploads/2018/05/word-image-5859.png" class="wp-image-6427" srcset="/wp-content/uploads/2018/05/word-image-5859.png 423w, /wp-content/uploads/2018/05/word-image-5859-300x123.png 300w" sizes="(max-width: 423px) 100vw, 423px" /></p>
<p>
  公共代码结束的位置
</p>
<p><img loading="lazy" decoding="async" width="646" height="181" src="/wp-content/uploads/2018/05/word-image-5860.png" class="wp-image-6428" srcset="/wp-content/uploads/2018/05/word-image-5860.png 646w, /wp-content/uploads/2018/05/word-image-5860-300x84.png 300w" sizes="(max-width: 646px) 100vw, 646px" /></p>
<p>
  c 在index.html中使用include进行引入:
</p>
<p>
  {dede:include filename=”header.html” /}
</p>
<p><img loading="lazy" decoding="async" width="952" height="273" src="/wp-content/uploads/2018/05/word-image-5861.png" class="wp-image-6429" srcset="/wp-content/uploads/2018/05/word-image-5861.png 952w, /wp-content/uploads/2018/05/word-image-5861-300x86.png 300w, /wp-content/uploads/2018/05/word-image-5861-768x220.png 768w" sizes="(max-width: 952px) 100vw, 952px" /></p>
<p>
  结果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="1344" height="231" src="/wp-content/uploads/2018/05/word-image-5862.png" class="wp-image-6430" srcset="/wp-content/uploads/2018/05/word-image-5862.png 1344w, /wp-content/uploads/2018/05/word-image-5862-300x52.png 300w, /wp-content/uploads/2018/05/word-image-5862-768x132.png 768w, /wp-content/uploads/2018/05/word-image-5862-1024x176.png 1024w" sizes="(max-width: 1344px) 100vw, 1344px" /></p>
<h1><a id="post-6405-_____________2"></a><a id="post-6405-_Toc256000009"></a>完成栏目模板页面的制作</h1>
<p>
  需求:当点击首页的栏目时,直接跳转到栏目的列表页:
</p>
<p><img loading="lazy" decoding="async" width="1174" height="270" src="/wp-content/uploads/2018/05/word-image-5863.png" class="wp-image-6431" srcset="/wp-content/uploads/2018/05/word-image-5863.png 1174w, /wp-content/uploads/2018/05/word-image-5863-300x69.png 300w, /wp-content/uploads/2018/05/word-image-5863-768x177.png 768w, /wp-content/uploads/2018/05/word-image-5863-1024x236.png 1024w" sizes="(max-width: 1174px) 100vw, 1174px" /></p>
<h2><a id="post-6405-__________"></a><a id="post-6405-_Toc256000010"></a>制作栏目的模板文件</h2>
<p>
  将我们模板页面中电影列表页修改为list_movie.htm
</p>
<p><img loading="lazy" decoding="async" width="795" height="270" src="/wp-content/uploads/2018/05/word-image-5864.png" class="wp-image-6432" srcset="/wp-content/uploads/2018/05/word-image-5864.png 795w, /wp-content/uploads/2018/05/word-image-5864-300x102.png 300w, /wp-content/uploads/2018/05/word-image-5864-768x261.png 768w" sizes="(max-width: 795px) 100vw, 795px" /></p>
<p>
  要在后台更新栏目页面的地址:
</p>
<p><img loading="lazy" decoding="async" width="1846" height="493" src="/wp-content/uploads/2018/05/word-image-5865.png" class="wp-image-6433" srcset="/wp-content/uploads/2018/05/word-image-5865.png 1846w, /wp-content/uploads/2018/05/word-image-5865-300x80.png 300w, /wp-content/uploads/2018/05/word-image-5865-768x205.png 768w, /wp-content/uploads/2018/05/word-image-5865-1024x273.png 1024w" sizes="(max-width: 1846px) 100vw, 1846px" /><br />
<img loading="lazy" decoding="async" width="728" height="288" src="/wp-content/uploads/2018/05/word-image-5866.png" class="wp-image-6434" srcset="/wp-content/uploads/2018/05/word-image-5866.png 728w, /wp-content/uploads/2018/05/word-image-5866-300x119.png 300w" sizes="(max-width: 728px) 100vw, 728px" /></p>
<p>
  使用后台生成列表页文件
</p>
<p><img loading="lazy" decoding="async" width="1305" height="381" src="/wp-content/uploads/2018/05/word-image-5867.png" class="wp-image-6435" srcset="/wp-content/uploads/2018/05/word-image-5867.png 1305w, /wp-content/uploads/2018/05/word-image-5867-300x88.png 300w, /wp-content/uploads/2018/05/word-image-5867-768x224.png 768w, /wp-content/uploads/2018/05/word-image-5867-1024x299.png 1024w" sizes="(max-width: 1305px) 100vw, 1305px" /></p>
<p>
  栏目更新完成:
</p>
<p><img loading="lazy" decoding="async" width="1331" height="489" src="/wp-content/uploads/2018/05/word-image-5868.png" class="wp-image-6436" srcset="/wp-content/uploads/2018/05/word-image-5868.png 1331w, /wp-content/uploads/2018/05/word-image-5868-300x110.png 300w, /wp-content/uploads/2018/05/word-image-5868-768x282.png 768w, /wp-content/uploads/2018/05/word-image-5868-1024x376.png 1024w" sizes="(max-width: 1331px) 100vw, 1331px" /></p>
<p>
  当我们再次点击首页的栏目时,出现的效果如下:
</p>
<p><img loading="lazy" decoding="async" width="720" height="178" src="/wp-content/uploads/2018/05/word-image-5869.png" class="wp-image-6437" srcset="/wp-content/uploads/2018/05/word-image-5869.png 720w, /wp-content/uploads/2018/05/word-image-5869-300x74.png 300w" sizes="(max-width: 720px) 100vw, 720px" /></p>
<p>
  点击之后就可以跳转到我的电影下面
</p>
<p><img loading="lazy" decoding="async" width="869" height="490" src="/wp-content/uploads/2018/05/word-image-5870.png" class="wp-image-6438" srcset="/wp-content/uploads/2018/05/word-image-5870.png 869w, /wp-content/uploads/2018/05/word-image-5870-300x169.png 300w, /wp-content/uploads/2018/05/word-image-5870-768x433.png 768w" sizes="(max-width: 869px) 100vw, 869px" /></p>
<p>
  引入样式文件
</p>
<p><img loading="lazy" decoding="async" width="1071" height="246" src="/wp-content/uploads/2018/05/word-image-5871.png" class="wp-image-6439" srcset="/wp-content/uploads/2018/05/word-image-5871.png 1071w, /wp-content/uploads/2018/05/word-image-5871-300x69.png 300w, /wp-content/uploads/2018/05/word-image-5871-768x176.png 768w, /wp-content/uploads/2018/05/word-image-5871-1024x235.png 1024w" sizes="(max-width: 1071px) 100vw, 1071px" /></p>
<p>
  脚下留心:这里的页面修改完成之后.一定要进行后台的更新才可以查看到效果.
</p>
<p><img loading="lazy" decoding="async" width="1094" height="206" src="/wp-content/uploads/2018/05/word-image-5872.png" class="wp-image-6440" srcset="/wp-content/uploads/2018/05/word-image-5872.png 1094w, /wp-content/uploads/2018/05/word-image-5872-300x56.png 300w, /wp-content/uploads/2018/05/word-image-5872-768x145.png 768w, /wp-content/uploads/2018/05/word-image-5872-1024x193.png 1024w" sizes="(max-width: 1094px) 100vw, 1094px" /></p>
<p>
  最终效果：
</p>
<p><img loading="lazy" decoding="async" width="1211" height="453" src="/wp-content/uploads/2018/05/word-image-5873.png" class="wp-image-6441" srcset="/wp-content/uploads/2018/05/word-image-5873.png 1211w, /wp-content/uploads/2018/05/word-image-5873-300x112.png 300w, /wp-content/uploads/2018/05/word-image-5873-768x287.png 768w, /wp-content/uploads/2018/05/word-image-5873-1024x383.png 1024w" sizes="(max-width: 1211px) 100vw, 1211px" /></p>
<p><a id="post-6405-_________"></a>
</p>
<h1><a id="post-6405-_________________"></a><a id="post-6405-_Toc256000012"></a>在栏目页面取出所属当前栏目的电影</h1>
<p><img loading="lazy" decoding="async" width="1032" height="241" src="/wp-content/uploads/2018/05/word-image-5874.png" class="wp-image-6442" srcset="/wp-content/uploads/2018/05/word-image-5874.png 1032w, /wp-content/uploads/2018/05/word-image-5874-300x70.png 300w, /wp-content/uploads/2018/05/word-image-5874-768x179.png 768w, /wp-content/uploads/2018/05/word-image-5874-1024x239.png 1024w" sizes="(max-width: 1032px) 100vw, 1032px" /></p>
<p>
  这个地方需要取出当前栏目下的电影,所以需要使用arclist标签即可
</p>
<p>
  观察list_movie.html的结构
</p>
<p><img loading="lazy" decoding="async" width="1046" height="393" src="/wp-content/uploads/2018/05/word-image-5875.png" class="wp-image-6443" srcset="/wp-content/uploads/2018/05/word-image-5875.png 1046w, /wp-content/uploads/2018/05/word-image-5875-300x113.png 300w, /wp-content/uploads/2018/05/word-image-5875-768x289.png 768w, /wp-content/uploads/2018/05/word-image-5875-1024x385.png 1024w" sizes="(max-width: 1046px) 100vw, 1046px" /></p>
<p>
  在代码中添加标签,获取到相应的电影数据
</p>
<p><img loading="lazy" decoding="async" width="1141" height="436" src="/wp-content/uploads/2018/05/word-image-5876.png" class="wp-image-6444" srcset="/wp-content/uploads/2018/05/word-image-5876.png 1141w, /wp-content/uploads/2018/05/word-image-5876-300x115.png 300w, /wp-content/uploads/2018/05/word-image-5876-768x293.png 768w, /wp-content/uploads/2018/05/word-image-5876-1024x391.png 1024w" sizes="(max-width: 1141px) 100vw, 1141px" /></p>
<p>
  当我们标签定义完成之后,一定要在后台重新生成栏目列表页面,才可以看到效果.
</p>
<p><img loading="lazy" decoding="async" width="1392" height="369" src="/wp-content/uploads/2018/05/word-image-5877.png" class="wp-image-6445" srcset="/wp-content/uploads/2018/05/word-image-5877.png 1392w, /wp-content/uploads/2018/05/word-image-5877-300x80.png 300w, /wp-content/uploads/2018/05/word-image-5877-768x204.png 768w, /wp-content/uploads/2018/05/word-image-5877-1024x271.png 1024w" sizes="(max-width: 1392px) 100vw, 1392px" /></p>
<p>
  最终效果：
</p>
<p><img loading="lazy" decoding="async" width="881" height="369" src="/wp-content/uploads/2018/05/word-image-5878.png" class="wp-image-6446" srcset="/wp-content/uploads/2018/05/word-image-5878.png 881w, /wp-content/uploads/2018/05/word-image-5878-300x126.png 300w, /wp-content/uploads/2018/05/word-image-5878-768x322.png 768w" sizes="(max-width: 881px) 100vw, 881px" /></p>
<h1><a id="post-6405-________________2"></a><a id="post-6405-_Toc256000013"></a>在栏目模板中取出‘大陆’电影</h1>
<p>
  在页面中的显示位置:
</p>
<p><img loading="lazy" decoding="async" width="1030" height="223" src="/wp-content/uploads/2018/05/word-image-5879.png" class="wp-image-6447" srcset="/wp-content/uploads/2018/05/word-image-5879.png 1030w, /wp-content/uploads/2018/05/word-image-5879-300x65.png 300w, /wp-content/uploads/2018/05/word-image-5879-768x166.png 768w, /wp-content/uploads/2018/05/word-image-5879-1024x222.png 1024w" sizes="(max-width: 1030px) 100vw, 1030px" /></p>
<p>
  分析:如果我们要取出大陆电影,那么他的sql语句的where条件一定是把地区当做筛选条件的.
</p>
<p><img loading="lazy" decoding="async" width="1171" height="406" src="/wp-content/uploads/2018/05/word-image-5880.png" class="wp-image-6448" srcset="/wp-content/uploads/2018/05/word-image-5880.png 1171w, /wp-content/uploads/2018/05/word-image-5880-300x104.png 300w, /wp-content/uploads/2018/05/word-image-5880-768x266.png 768w, /wp-content/uploads/2018/05/word-image-5880-1024x355.png 1024w" sizes="(max-width: 1171px) 100vw, 1171px" /><br />
<img loading="lazy" decoding="async" width="1589" height="234" src="/wp-content/uploads/2018/05/word-image-5881.png" class="wp-image-6449" srcset="/wp-content/uploads/2018/05/word-image-5881.png 1589w, /wp-content/uploads/2018/05/word-image-5881-300x44.png 300w, /wp-content/uploads/2018/05/word-image-5881-768x113.png 768w, /wp-content/uploads/2018/05/word-image-5881-1024x151.png 1024w" sizes="(max-width: 1589px) 100vw, 1589px" /></p>
<p>
  默认的情况下,arclist标签在解析的时候,是不会把addf.diqu=’大陆’ 这个条件加进sql语句中的.所以我们要人为的进行添加.
</p>
<p>
  在arclist.lib.php中把where条件拼接上.
</p>
<p><img loading="lazy" decoding="async" width="860" height="408" src="/wp-content/uploads/2018/05/word-image-5882.png" class="wp-image-6450" srcset="/wp-content/uploads/2018/05/word-image-5882.png 860w, /wp-content/uploads/2018/05/word-image-5882-300x142.png 300w, /wp-content/uploads/2018/05/word-image-5882-768x364.png 768w" sizes="(max-width: 860px) 100vw, 860px" /></p>
<p>
  a 将where条件从list_movie.html页面传递到arclist.lib.php中
</p>
<p><img loading="lazy" decoding="async" width="980" height="176" src="/wp-content/uploads/2018/05/word-image-5883.png" class="wp-image-6451" srcset="/wp-content/uploads/2018/05/word-image-5883.png 980w, /wp-content/uploads/2018/05/word-image-5883-300x54.png 300w, /wp-content/uploads/2018/05/word-image-5883-768x138.png 768w" sizes="(max-width: 980px) 100vw, 980px" /><br />
<img loading="lazy" decoding="async" width="810" height="179" src="/wp-content/uploads/2018/05/word-image-5884.png" class="wp-image-6452" srcset="/wp-content/uploads/2018/05/word-image-5884.png 810w, /wp-content/uploads/2018/05/word-image-5884-300x66.png 300w, /wp-content/uploads/2018/05/word-image-5884-768x170.png 768w" sizes="(max-width: 810px) 100vw, 810px" /></p>
<p>
  打印的结果如下:
</p>
<p><img loading="lazy" decoding="async" width="681" height="134" src="/wp-content/uploads/2018/05/word-image-5885.png" class="wp-image-6453" srcset="/wp-content/uploads/2018/05/word-image-5885.png 681w, /wp-content/uploads/2018/05/word-image-5885-300x59.png 300w" sizes="(max-width: 681px) 100vw, 681px" /></p>
<p>
  b 将接受到的where条件到底拼接到sql&#8217;中
</p>
<p><img loading="lazy" decoding="async" width="978" height="465" src="/wp-content/uploads/2018/05/word-image-5886.png" class="wp-image-6454" srcset="/wp-content/uploads/2018/05/word-image-5886.png 978w, /wp-content/uploads/2018/05/word-image-5886-300x143.png 300w, /wp-content/uploads/2018/05/word-image-5886-768x365.png 768w" sizes="(max-width: 978px) 100vw, 978px" /></p>
<p>
  最终打印出来的sql语句如下所示:
</p>
<p><img loading="lazy" decoding="async" width="1664" height="267" src="/wp-content/uploads/2018/05/word-image-5887.png" class="wp-image-6455" srcset="/wp-content/uploads/2018/05/word-image-5887.png 1664w, /wp-content/uploads/2018/05/word-image-5887-300x48.png 300w, /wp-content/uploads/2018/05/word-image-5887-768x123.png 768w, /wp-content/uploads/2018/05/word-image-5887-1024x164.png 1024w" sizes="(max-width: 1664px) 100vw, 1664px" /></p>
<p>
  最终实现效果的代码
</p>
<p><img loading="lazy" decoding="async" width="1164" height="349" src="/wp-content/uploads/2018/05/word-image-5888.png" class="wp-image-6456" srcset="/wp-content/uploads/2018/05/word-image-5888.png 1164w, /wp-content/uploads/2018/05/word-image-5888-300x90.png 300w, /wp-content/uploads/2018/05/word-image-5888-768x230.png 768w, /wp-content/uploads/2018/05/word-image-5888-1024x307.png 1024w" sizes="(max-width: 1164px) 100vw, 1164px" /></p>
<p>
  在arclist.lib.php中的添加的where条件
</p>
<p><img loading="lazy" decoding="async" width="1057" height="585" src="/wp-content/uploads/2018/05/word-image-5889.png" class="wp-image-6457" srcset="/wp-content/uploads/2018/05/word-image-5889.png 1057w, /wp-content/uploads/2018/05/word-image-5889-300x166.png 300w, /wp-content/uploads/2018/05/word-image-5889-768x425.png 768w, /wp-content/uploads/2018/05/word-image-5889-1024x567.png 1024w" sizes="(max-width: 1057px) 100vw, 1057px" /></p>
<p>
  最终的效果如下:
</p>
<p><img loading="lazy" decoding="async" width="735" height="311" src="/wp-content/uploads/2018/05/word-image-5890.png" class="wp-image-6458" srcset="/wp-content/uploads/2018/05/word-image-5890.png 735w, /wp-content/uploads/2018/05/word-image-5890-300x127.png 300w" sizes="(max-width: 735px) 100vw, 735px" /></p>
<h1><a id="post-6405-__________________2"></a><a id="post-6405-_Toc256000014"></a>‘国产大片’栏目使用单独模板文件</h1>
<p>
  a 找到国产大片栏目进行修改
</p>
<p><img loading="lazy" decoding="async" width="1773" height="353" src="/wp-content/uploads/2018/05/word-image-5891.png" class="wp-image-6459" srcset="/wp-content/uploads/2018/05/word-image-5891.png 1773w, /wp-content/uploads/2018/05/word-image-5891-300x60.png 300w, /wp-content/uploads/2018/05/word-image-5891-768x153.png 768w, /wp-content/uploads/2018/05/word-image-5891-1024x204.png 1024w" sizes="(max-width: 1773px) 100vw, 1773px" /><br />
<img loading="lazy" decoding="async" width="980" height="450" src="/wp-content/uploads/2018/05/word-image-5892.png" class="wp-image-6460" srcset="/wp-content/uploads/2018/05/word-image-5892.png 980w, /wp-content/uploads/2018/05/word-image-5892-300x138.png 300w, /wp-content/uploads/2018/05/word-image-5892-768x353.png 768w" sizes="(max-width: 980px) 100vw, 980px" /></p>
<p>
  b 复制一个栏目模板文件,然后进行改名
</p>
<p><img loading="lazy" decoding="async" width="651" height="283" src="/wp-content/uploads/2018/05/word-image-5893.png" class="wp-image-6461" srcset="/wp-content/uploads/2018/05/word-image-5893.png 651w, /wp-content/uploads/2018/05/word-image-5893-300x130.png 300w" sizes="(max-width: 651px) 100vw, 651px" /></p>
<p>
  复制完成模板之后,重新更新栏目就可以看到效果
</p>
<p><img loading="lazy" decoding="async" width="1401" height="377" src="/wp-content/uploads/2018/05/word-image-5894.png" class="wp-image-6462" srcset="/wp-content/uploads/2018/05/word-image-5894.png 1401w, /wp-content/uploads/2018/05/word-image-5894-300x81.png 300w, /wp-content/uploads/2018/05/word-image-5894-768x207.png 768w, /wp-content/uploads/2018/05/word-image-5894-1024x276.png 1024w" sizes="(max-width: 1401px) 100vw, 1401px" /></p>
<p>
  c 点击首页的国产大片按钮,进行访问
</p>
<p><img loading="lazy" decoding="async" width="919" height="300" src="/wp-content/uploads/2018/05/word-image-5895.png" class="wp-image-6463" srcset="/wp-content/uploads/2018/05/word-image-5895.png 919w, /wp-content/uploads/2018/05/word-image-5895-300x98.png 300w, /wp-content/uploads/2018/05/word-image-5895-768x251.png 768w" sizes="(max-width: 919px) 100vw, 919px" /><br />
<img loading="lazy" decoding="async" width="959" height="163" src="/wp-content/uploads/2018/05/word-image-5896.png" class="wp-image-6464" srcset="/wp-content/uploads/2018/05/word-image-5896.png 959w, /wp-content/uploads/2018/05/word-image-5896-300x51.png 300w, /wp-content/uploads/2018/05/word-image-5896-768x131.png 768w" sizes="(max-width: 959px) 100vw, 959px" /></p>
<h1><a id="post-6405-__________2"></a><a id="post-6405-_Toc256000015"></a>完成内容详情页面</h1>
<h2><a id="post-6405-______________"></a><a id="post-6405-_Toc256000016"></a>制作内容详情页面的模板文件</h2>
<p><img loading="lazy" decoding="async" width="775" height="288" src="/wp-content/uploads/2018/05/word-image-5897.png" class="wp-image-6465" srcset="/wp-content/uploads/2018/05/word-image-5897.png 775w, /wp-content/uploads/2018/05/word-image-5897-300x111.png 300w, /wp-content/uploads/2018/05/word-image-5897-768x285.png 768w" sizes="(max-width: 775px) 100vw, 775px" /></p>
<p>
  需求:当我们点击某一个电影时,就可以跳转到这个电影的详情页,查看其详细的信息
</p>
<p>
  a 制作电影详情的页面:
</p>
<p><img loading="lazy" decoding="async" width="857" height="299" src="/wp-content/uploads/2018/05/word-image-5898.png" class="wp-image-6466" srcset="/wp-content/uploads/2018/05/word-image-5898.png 857w, /wp-content/uploads/2018/05/word-image-5898-300x105.png 300w, /wp-content/uploads/2018/05/word-image-5898-768x268.png 768w" sizes="(max-width: 857px) 100vw, 857px" /></p>
<p>
  b 修改栏目中电影详情页的名字
</p>
<p><img loading="lazy" decoding="async" width="1536" height="354" src="/wp-content/uploads/2018/05/word-image-5899.png" class="wp-image-6467" srcset="/wp-content/uploads/2018/05/word-image-5899.png 1536w, /wp-content/uploads/2018/05/word-image-5899-300x69.png 300w, /wp-content/uploads/2018/05/word-image-5899-768x177.png 768w, /wp-content/uploads/2018/05/word-image-5899-1024x236.png 1024w" sizes="(max-width: 1536px) 100vw, 1536px" /></p>
<p>
  c 更新所有的文档,查看电影详情的页面
</p>
<p><img loading="lazy" decoding="async" width="1326" height="518" src="/wp-content/uploads/2018/05/word-image-5900.png" class="wp-image-6468" srcset="/wp-content/uploads/2018/05/word-image-5900.png 1326w, /wp-content/uploads/2018/05/word-image-5900-300x117.png 300w, /wp-content/uploads/2018/05/word-image-5900-768x300.png 768w, /wp-content/uploads/2018/05/word-image-5900-1024x400.png 1024w" sizes="(max-width: 1326px) 100vw, 1326px" /></p>
<p>
  d 修改article_movie中的css和js的路径
</p>
<p><img loading="lazy" decoding="async" width="974" height="275" src="/wp-content/uploads/2018/05/word-image-5901.png" class="wp-image-6469" srcset="/wp-content/uploads/2018/05/word-image-5901.png 974w, /wp-content/uploads/2018/05/word-image-5901-300x85.png 300w, /wp-content/uploads/2018/05/word-image-5901-768x217.png 768w" sizes="(max-width: 974px) 100vw, 974px" /></p>
<p>
  路径更新完成之后,重新新生页面,然后再查看效果
</p>
<p><img loading="lazy" decoding="async" width="1535" height="279" src="/wp-content/uploads/2018/05/word-image-5902.png" class="wp-image-6470" srcset="/wp-content/uploads/2018/05/word-image-5902.png 1535w, /wp-content/uploads/2018/05/word-image-5902-300x55.png 300w, /wp-content/uploads/2018/05/word-image-5902-768x140.png 768w, /wp-content/uploads/2018/05/word-image-5902-1024x186.png 1024w" sizes="(max-width: 1535px) 100vw, 1535px" /></p>
<p>
  页面路径修改完成之后的页面,如下:
</p>
<p><img loading="lazy" decoding="async" width="1303" height="817" src="/wp-content/uploads/2018/05/word-image-5903.png" class="wp-image-6471" srcset="/wp-content/uploads/2018/05/word-image-5903.png 1303w, /wp-content/uploads/2018/05/word-image-5903-300x188.png 300w, /wp-content/uploads/2018/05/word-image-5903-768x482.png 768w, /wp-content/uploads/2018/05/word-image-5903-1024x642.png 1024w" sizes="(max-width: 1303px) 100vw, 1303px" /></p>
<h2><a id="post-6405-_______________2"></a><a id="post-6405-_Toc256000017"></a>在内容页面中取出对应的数据</h2>
<p>
  需求:把自己的电影数据填充到这里.
</p>
<p>
  这里可以使用一个dede单标签
</p>
<p>
  注意在内容详情页：取出具体的电影数据信息需要使用单标签：{dede:field.字段名称/}
</p>
<p>
  在内容详情页，取出数据的时候，即可以取出内容主表中的信息，也可以取出附加表中的信息，也可以取出其栏目表中的对应信息
</p>
<p><img loading="lazy" decoding="async" width="1500" height="725" src="/wp-content/uploads/2018/05/word-image-5904.png" class="wp-image-6472" srcset="/wp-content/uploads/2018/05/word-image-5904.png 1500w, /wp-content/uploads/2018/05/word-image-5904-300x145.png 300w, /wp-content/uploads/2018/05/word-image-5904-768x371.png 768w, /wp-content/uploads/2018/05/word-image-5904-1024x495.png 1024w" sizes="(max-width: 1500px) 100vw, 1500px" /></p>
<p>
  这里我们取出数据的时候,使用的都是单标签
</p>
<p>
  当标签填写完成之后,一定要更新文档html才能查看到具体的效果
</p>
<p>
  页面的最后效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="1068" height="565" src="/wp-content/uploads/2018/05/word-image-5905.png" class="wp-image-6473" srcset="/wp-content/uploads/2018/05/word-image-5905.png 1068w, /wp-content/uploads/2018/05/word-image-5905-300x159.png 300w, /wp-content/uploads/2018/05/word-image-5905-768x406.png 768w, /wp-content/uploads/2018/05/word-image-5905-1024x542.png 1024w" sizes="(max-width: 1068px) 100vw, 1068px" /></p>
<h2><a id="post-6405-__________________"></a><a id="post-6405-_Toc256000018"></a>取出和当前电影同属于一个栏目的电影</h2>
<p>
  页面的效果图:
</p>
<p><img loading="lazy" decoding="async" width="1028" height="243" src="/wp-content/uploads/2018/05/word-image-5906.png" class="wp-image-6474" srcset="/wp-content/uploads/2018/05/word-image-5906.png 1028w, /wp-content/uploads/2018/05/word-image-5906-300x71.png 300w, /wp-content/uploads/2018/05/word-image-5906-768x182.png 768w, /wp-content/uploads/2018/05/word-image-5906-1024x242.png 1024w" sizes="(max-width: 1028px) 100vw, 1028px" /></p>
<p>
  还可能喜欢的就是同一个栏目下的电影
</p>
</p>
<p>
  	代码如下所示:
</p>
<p><img loading="lazy" decoding="async" width="1300" height="443" src="/wp-content/uploads/2018/05/word-image-5907.png" class="wp-image-6475" srcset="/wp-content/uploads/2018/05/word-image-5907.png 1300w, /wp-content/uploads/2018/05/word-image-5907-300x102.png 300w, /wp-content/uploads/2018/05/word-image-5907-768x262.png 768w, /wp-content/uploads/2018/05/word-image-5907-1024x349.png 1024w" sizes="(max-width: 1300px) 100vw, 1300px" /><br />
<img loading="lazy" decoding="async" width="1338" height="457" src="/wp-content/uploads/2018/05/word-image-5908.png" class="wp-image-6476" srcset="/wp-content/uploads/2018/05/word-image-5908.png 1338w, /wp-content/uploads/2018/05/word-image-5908-300x102.png 300w, /wp-content/uploads/2018/05/word-image-5908-768x262.png 768w, /wp-content/uploads/2018/05/word-image-5908-1024x350.png 1024w" sizes="(max-width: 1338px) 100vw, 1338px" /></p>
<p>
  效果如下:
</p>
<p><img loading="lazy" decoding="async" width="713" height="316" src="/wp-content/uploads/2018/05/word-image-5909.png" class="wp-image-6477" srcset="/wp-content/uploads/2018/05/word-image-5909.png 713w, /wp-content/uploads/2018/05/word-image-5909-300x133.png 300w" sizes="(max-width: 713px) 100vw, 713px" /></p>
]]></content:encoded>
					
					<wfw:commentRss>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6405.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>DedeCMS二次开发（三）搜索页面、数据库操作</title>
		<link>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6348.html</link>
					<comments>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6348.html#respond</comments>
		
		<dc:creator><![CDATA[Mr.Lee]]></dc:creator>
		<pubDate>Sat, 19 May 2018 16:36:19 +0000</pubDate>
				<category><![CDATA[DedeCMS]]></category>
		<category><![CDATA[二次开发]]></category>
		<category><![CDATA[搜索页面]]></category>
		<category><![CDATA[数据库操作]]></category>
		<guid isPermaLink="false">/?p=6348</guid>

					<description><![CDATA[dedecms第三天 完成搜索页面 要实现的效果: 显示搜索页面 a 在plus目录中添加sou.php文件, [&#8230;]]]></description>
										<content:encoded><![CDATA[<p><a id="post-6348-_dedecms___"></a><a id="post-6348-_Toc256000000"></a><br />
  dedecms第三天
</p>
<p><a id="post-6348-_____________"></a>
</p>
<h1><a id="post-6348-________2"></a><a id="post-6348-_Toc256000004"></a>完成搜索页面</h1>
<p>
  要实现的效果:
</p>
<p><img loading="lazy" decoding="async" width="1235" height="536" src="/wp-content/uploads/2018/05/word-image-5793.png" class="wp-image-6359" srcset="/wp-content/uploads/2018/05/word-image-5793.png 1235w, /wp-content/uploads/2018/05/word-image-5793-300x130.png 300w, /wp-content/uploads/2018/05/word-image-5793-768x333.png 768w, /wp-content/uploads/2018/05/word-image-5793-1024x444.png 1024w" sizes="(max-width: 1235px) 100vw, 1235px" /></p>
<h2><a id="post-6348-________3"></a><a id="post-6348-_Toc256000005"></a><em>显示搜索页面</em></h2>
<p>
  a 在plus目录中添加sou.php文件,用于加载sou.html文件
</p>
<p><img loading="lazy" decoding="async" width="1026" height="767" src="/wp-content/uploads/2018/05/word-image-5794.png" class="wp-image-6360" srcset="/wp-content/uploads/2018/05/word-image-5794.png 1026w, /wp-content/uploads/2018/05/word-image-5794-300x224.png 300w, /wp-content/uploads/2018/05/word-image-5794-768x574.png 768w, /wp-content/uploads/2018/05/word-image-5794-1024x766.png 1024w" sizes="(max-width: 1026px) 100vw, 1026px" /><br />
<img loading="lazy" decoding="async" width="653" height="257" src="/wp-content/uploads/2018/05/word-image-5795.png" class="wp-image-6361" srcset="/wp-content/uploads/2018/05/word-image-5795.png 653w, /wp-content/uploads/2018/05/word-image-5795-300x118.png 300w" sizes="(max-width: 653px) 100vw, 653px" /></p>
<p>
  b访问之后页面输出的效果如下所示
</p>
<p><img loading="lazy" decoding="async" width="1536" height="209" src="/wp-content/uploads/2018/05/word-image-5796.png" class="wp-image-6362" srcset="/wp-content/uploads/2018/05/word-image-5796.png 1536w, /wp-content/uploads/2018/05/word-image-5796-300x41.png 300w, /wp-content/uploads/2018/05/word-image-5796-768x105.png 768w, /wp-content/uploads/2018/05/word-image-5796-1024x139.png 1024w" sizes="(max-width: 1536px) 100vw, 1536px" /></p>
<p>
  c 引入每一个dede中的公共文件
</p>
<p><img loading="lazy" decoding="async" width="910" height="289" src="/wp-content/uploads/2018/05/word-image-5797.png" class="wp-image-6363" srcset="/wp-content/uploads/2018/05/word-image-5797.png 910w, /wp-content/uploads/2018/05/word-image-5797-300x95.png 300w, /wp-content/uploads/2018/05/word-image-5797-768x244.png 768w" sizes="(max-width: 910px) 100vw, 910px" /></p>
<p>
  d 将模板页面改名字为sou.html然后引入到sou.php文件中
</p>
<p><img loading="lazy" decoding="async" width="861" height="388" src="/wp-content/uploads/2018/05/word-image-5798.png" class="wp-image-6364" srcset="/wp-content/uploads/2018/05/word-image-5798.png 861w, /wp-content/uploads/2018/05/word-image-5798-300x135.png 300w, /wp-content/uploads/2018/05/word-image-5798-768x346.png 768w" sizes="(max-width: 861px) 100vw, 861px" /></p>
<p>
  在sou.php中进行引入
</p>
<p><img loading="lazy" decoding="async" width="844" height="289" src="/wp-content/uploads/2018/05/word-image-5799.png" class="wp-image-6365" srcset="/wp-content/uploads/2018/05/word-image-5799.png 844w, /wp-content/uploads/2018/05/word-image-5799-300x103.png 300w, /wp-content/uploads/2018/05/word-image-5799-768x263.png 768w" sizes="(max-width: 844px) 100vw, 844px" /></p>
<p>
  引入之后的页面:
</p>
<p><img loading="lazy" decoding="async" width="1076" height="417" src="/wp-content/uploads/2018/05/word-image-5800.png" class="wp-image-6366" srcset="/wp-content/uploads/2018/05/word-image-5800.png 1076w, /wp-content/uploads/2018/05/word-image-5800-300x116.png 300w, /wp-content/uploads/2018/05/word-image-5800-768x298.png 768w, /wp-content/uploads/2018/05/word-image-5800-1024x397.png 1024w" sizes="(max-width: 1076px) 100vw, 1076px" /></p>
<p>
  e 修改sou.html中的css文件路径和js路径
</p>
<p><img loading="lazy" decoding="async" width="764" height="302" src="/wp-content/uploads/2018/05/word-image-5801.png" class="wp-image-6367" srcset="/wp-content/uploads/2018/05/word-image-5801.png 764w, /wp-content/uploads/2018/05/word-image-5801-300x119.png 300w" sizes="(max-width: 764px) 100vw, 764px" /></p>
<p>
  如果直接使用dede中的标签是不被解析的,因为我们现在直接访问html页面,没有给他生成静态的页面,所以他不能解析dede的标签.
</p>
<p>
  在这里我们直接使用原生的php标签进行引入即可
</p>
<p><img loading="lazy" decoding="async" width="907" height="229" src="/wp-content/uploads/2018/05/word-image-5802.png" class="wp-image-6368" srcset="/wp-content/uploads/2018/05/word-image-5802.png 907w, /wp-content/uploads/2018/05/word-image-5802-300x76.png 300w, /wp-content/uploads/2018/05/word-image-5802-768x194.png 768w" sizes="(max-width: 907px) 100vw, 907px" /></p>
<p>
  进行访问查看效果:
</p>
<p><img loading="lazy" decoding="async" width="1182" height="482" src="/wp-content/uploads/2018/05/word-image-5803.png" class="wp-image-6369" srcset="/wp-content/uploads/2018/05/word-image-5803.png 1182w, /wp-content/uploads/2018/05/word-image-5803-300x122.png 300w, /wp-content/uploads/2018/05/word-image-5803-768x313.png 768w, /wp-content/uploads/2018/05/word-image-5803-1024x418.png 1024w" sizes="(max-width: 1182px) 100vw, 1182px" /></p>
<h2><a id="post-6348-_dede________"></a><a id="post-6348-_Toc256000006"></a><em>dede里面的数据库操作</em></h2>
<h3><a id="post-6348-__________"></a><a id="post-6348-_Toc256000007"></a>数据库的初始化操作</h3>
<p>
  默认情况下数据核心类是在include/commen.inc.php文件中引入了数据库核心类文件。
</p>
<p>
  dede默认提供了三种操作数据的核心类
</p>
<p>
  我们默认的数据库操作类是dedesql.class.php文件
</p>
<p>
  找到dedesql.class.php文件
</p>
<p><img loading="lazy" decoding="async" width="1243" height="506" src="/wp-content/uploads/2018/05/word-image-5804.png" class="wp-image-6370" srcset="/wp-content/uploads/2018/05/word-image-5804.png 1243w, /wp-content/uploads/2018/05/word-image-5804-300x122.png 300w, /wp-content/uploads/2018/05/word-image-5804-768x313.png 768w, /wp-content/uploads/2018/05/word-image-5804-1024x417.png 1024w" sizes="(max-width: 1243px) 100vw, 1243px" /></p>
<p>
  查看dedesql.class.php中是如何实例化和引用相关的数据库类的
</p>
<p><img loading="lazy" decoding="async" width="1163" height="383" src="/wp-content/uploads/2018/05/word-image-5805.png" class="wp-image-6371" srcset="/wp-content/uploads/2018/05/word-image-5805.png 1163w, /wp-content/uploads/2018/05/word-image-5805-300x99.png 300w, /wp-content/uploads/2018/05/word-image-5805-768x253.png 768w, /wp-content/uploads/2018/05/word-image-5805-1024x337.png 1024w" sizes="(max-width: 1163px) 100vw, 1163px" /></p>
<p>
  有上面可知,我们直接使用$dsql这个实例化的类即可引用
</p>
<h3><a id="post-6348-_____"></a><a id="post-6348-_Toc256000008"></a>查询操作</h3>
<p>
  查询多条记录的方法
</p>
<p>
  $dsql-&gt;Execute(“me”,$sql语句) 类似于$res=mysql_query($sql语句)
</p>
<p>
  注释:me的意思是将sql执行完成之后的结果赋给$me
</p>
<p>
  取出数据的方法：
</p>
<p>
  $dsql-&gt;GetArray(“me”);//该方法取出一次数据，游标就会向下移动一次
</p>
<p>
  上面的这个方法的功能就类似于$row=mysql_fetch_assoc($res)
</p>
<p>
  案例：
</p>
<p>
  $sql=”select * from goods”;
</p>
<p>
  $dsql-&gt;Execute(“abc”,$sql);
</p>
<p>
  取出数据：
</p>
<p>
  $data=[];
</p>
<p>
  While($row=$dsql-&gt;GetArray(“abc”)){
</p>
<p>
  		$data[]=$row;
</p>
<p>
  }
</p>
<p>
  取出单行数据的方式：
</p>
<p>
  $dsql-&gt;GetOne($sql);//该方法只返回一行数据信息
</p>
<h3><a id="post-6348-________4"></a><a id="post-6348-_Toc256000009"></a>增删改的操作</h3>
<p>
  如果要想对表中的数据进行增删改操作，并且不需要关注影响记录条数
</p>
<p>
  $dsql-&gt;ExecuteNoneQuery($sql语句)
</p>
<p>
  如果想要对表中的数据进行增删改操作，同时也需要关注影响记录条数
</p>
<p>
  $dsql-&gt; ExecuteNoneQuery2($sql语句)
</p>
<h2><a id="post-6348-___________"></a><a id="post-6348-_Toc256000010"></a><em>展示出搜索页面的头部</em></h2>
<p>
  需求:取出搜索页面的导航栏部分.
</p>
<p><img loading="lazy" decoding="async" width="993" height="101" src="/wp-content/uploads/2018/05/word-image-5806.png" class="wp-image-6372" srcset="/wp-content/uploads/2018/05/word-image-5806.png 993w, /wp-content/uploads/2018/05/word-image-5806-300x31.png 300w, /wp-content/uploads/2018/05/word-image-5806-768x78.png 768w" sizes="(max-width: 993px) 100vw, 993px" /></p>
<p>
  分析:1 导航栏的数据保存在dede_arctype表中.
</p>
<p>
        2 只需要取出其中的电影模型下面的顶级导航栏.
</p>
<h3><a id="post-6348-______2"></a><a id="post-6348-_Toc256000011"></a>取出数据</h3>
<p>
  思路就是由于要取出的是栏目顶级导航，所以在查询时候要指定reid=0 并且要确定的就是我们是从dede_arctype表中取得数据信息
</p>
<p><img loading="lazy" decoding="async" width="1253" height="556" src="/wp-content/uploads/2018/05/word-image-5807.png" class="wp-image-6373" srcset="/wp-content/uploads/2018/05/word-image-5807.png 1253w, /wp-content/uploads/2018/05/word-image-5807-300x133.png 300w, /wp-content/uploads/2018/05/word-image-5807-768x341.png 768w, /wp-content/uploads/2018/05/word-image-5807-1024x454.png 1024w" sizes="(max-width: 1253px) 100vw, 1253px" /></p>
<p>
  打印的数据效果如夏所示:
</p>
<p><img loading="lazy" decoding="async" width="756" height="265" src="/wp-content/uploads/2018/05/word-image-5808.png" class="wp-image-6374" srcset="/wp-content/uploads/2018/05/word-image-5808.png 756w, /wp-content/uploads/2018/05/word-image-5808-300x105.png 300w" sizes="(max-width: 756px) 100vw, 756px" /></p>
<p>
  在sou.html页面中循环输出栏目数据
</p>
<p><img loading="lazy" decoding="async" width="1141" height="224" src="/wp-content/uploads/2018/05/word-image-5809.png" class="wp-image-6375" srcset="/wp-content/uploads/2018/05/word-image-5809.png 1141w, /wp-content/uploads/2018/05/word-image-5809-300x59.png 300w, /wp-content/uploads/2018/05/word-image-5809-768x151.png 768w, /wp-content/uploads/2018/05/word-image-5809-1024x201.png 1024w" sizes="(max-width: 1141px) 100vw, 1141px" /></p>
<p>
  最终的输出效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="799" height="302" src="/wp-content/uploads/2018/05/word-image-5810.png" class="wp-image-6376" srcset="/wp-content/uploads/2018/05/word-image-5810.png 799w, /wp-content/uploads/2018/05/word-image-5810-300x113.png 300w, /wp-content/uploads/2018/05/word-image-5810-768x290.png 768w" sizes="(max-width: 799px) 100vw, 799px" /></p>
<p>
  多学一招:
</p>
<p>
  这里要拼接处typeurl的地址:在arclist中找到这个标签即可
</p>
<p><img loading="lazy" decoding="async" width="1172" height="353" src="/wp-content/uploads/2018/05/word-image-5811.png" class="wp-image-6377" srcset="/wp-content/uploads/2018/05/word-image-5811.png 1172w, /wp-content/uploads/2018/05/word-image-5811-300x90.png 300w, /wp-content/uploads/2018/05/word-image-5811-768x231.png 768w, /wp-content/uploads/2018/05/word-image-5811-1024x308.png 1024w" sizes="(max-width: 1172px) 100vw, 1172px" /></p>
<p><a id="post-6348-______3"></a>
</p>
<h2><a id="post-6348-______________2"></a><a id="post-6348-_Toc256000013"></a><em>取出电影数据</em></h2>
<p>
  页面的效果图如下所示:
</p>
<p><img loading="lazy" decoding="async" width="974" height="570" src="/wp-content/uploads/2018/05/word-image-5812.png" class="wp-image-6378" srcset="/wp-content/uploads/2018/05/word-image-5812.png 974w, /wp-content/uploads/2018/05/word-image-5812-300x176.png 300w, /wp-content/uploads/2018/05/word-image-5812-768x449.png 768w" sizes="(max-width: 974px) 100vw, 974px" /></p>
<p>
  分析：
</p>
<p>
  该数据涉及到了附加表中的数据信息（语言、评分值）还有就是内容主表中的电影名称信息以及我们要进行处理的就是电影的对应url地址（arcurl）
</p>
<h3><a id="post-6348-________5"></a><a id="post-6348-_Toc256000014"></a>取出电影数据</h3>
<p>
  代码如下
</p>
<p><img loading="lazy" decoding="async" width="1579" height="367" src="/wp-content/uploads/2018/05/word-image-5813.png" class="wp-image-6379" srcset="/wp-content/uploads/2018/05/word-image-5813.png 1579w, /wp-content/uploads/2018/05/word-image-5813-300x70.png 300w, /wp-content/uploads/2018/05/word-image-5813-768x179.png 768w, /wp-content/uploads/2018/05/word-image-5813-1024x238.png 1024w" sizes="(max-width: 1579px) 100vw, 1579px" /></p>
<p>
  多学一招:arcurl的拼接需要在arclib.php中获取:
</p>
<p><img loading="lazy" decoding="async" width="1191" height="580" src="/wp-content/uploads/2018/05/word-image-5814.png" class="wp-image-6380" srcset="/wp-content/uploads/2018/05/word-image-5814.png 1191w, /wp-content/uploads/2018/05/word-image-5814-300x146.png 300w, /wp-content/uploads/2018/05/word-image-5814-768x374.png 768w, /wp-content/uploads/2018/05/word-image-5814-1024x499.png 1024w" sizes="(max-width: 1191px) 100vw, 1191px" /></p>
<h3><a id="post-6348-___________2"></a><a id="post-6348-_Toc256000015"></a>完成电影数据的遍历</h3>
<p><img loading="lazy" decoding="async" width="1225" height="344" src="/wp-content/uploads/2018/05/word-image-5815.png" class="wp-image-6381" srcset="/wp-content/uploads/2018/05/word-image-5815.png 1225w, /wp-content/uploads/2018/05/word-image-5815-300x84.png 300w, /wp-content/uploads/2018/05/word-image-5815-768x216.png 768w, /wp-content/uploads/2018/05/word-image-5815-1024x288.png 1024w" sizes="(max-width: 1225px) 100vw, 1225px" /></p>
<p><a id="post-6348-________"></a><br />
  最终的效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="992" height="306" src="/wp-content/uploads/2018/05/word-image-5816.png" class="wp-image-6382" srcset="/wp-content/uploads/2018/05/word-image-5816.png 992w, /wp-content/uploads/2018/05/word-image-5816-300x93.png 300w, /wp-content/uploads/2018/05/word-image-5816-768x237.png 768w" sizes="(max-width: 992px) 100vw, 992px" /></p>
<p><a id="post-6348-______________3"></a>
</p>
<h2><a id="post-6348-____________"></a><a id="post-6348-_Toc256000018"></a><em>在搜索页面显示年代数据</em></h2>
<p><img loading="lazy" decoding="async" width="972" height="206" src="/wp-content/uploads/2018/05/word-image-5817.png" class="wp-image-6383" srcset="/wp-content/uploads/2018/05/word-image-5817.png 972w, /wp-content/uploads/2018/05/word-image-5817-300x64.png 300w, /wp-content/uploads/2018/05/word-image-5817-768x163.png 768w" sizes="(max-width: 972px) 100vw, 972px" /></p>
<p>
  分析：
</p>
<p>
  1、	首先每一个年代数据都要有一个url地址，
</p>
<p>
  2、	需要有一个是否处于选中状态判断，
</p>
<p>
  3、	同时也要考虑把其他条件参数给带上
</p>
<p>
  4、	由于全部字样也需要考虑是否处于选中状态，所以也要封装到数组中来
</p>
<p>
  思路：可以考虑将这个年代数据给封装成一个数组
</p>
<p>
  $ndData=array(
</p>
<p>
  array(
</p>
<p>
  	‘name’=&gt;2016,
</p>
<p>
  	‘url’=&gt;用来跳转的url地址 （diqu=欧美&amp; niandai=2016）
</p>
<p>
  	‘selected’=&gt;判断是否处于选中状态
</p>
<p>
  ),
</p>
<p>
  array(
</p>
<p>
  	‘name’=&gt;2015,
</p>
<p>
  	‘url’=&gt;用来跳转的url地址（niandai=2015&amp;diqu=欧美）
</p>
<p>
  	‘selected’=&gt;判断是否处于选中状态
</p>
<p>
  ),
</p>
<p>
  array(
</p>
<p>
  	‘name’=&gt;’全部’,
</p>
<p>
  	‘url’=&gt;用来跳转的url地址（niandai=2015&amp;diqu=欧美）
</p>
<p>
  	‘selected’=&gt;判断是否处于选中状态
</p>
<p>
  )
</p>
<p>
  )
</p>
<h3><a id="post-6348-________6"></a><a id="post-6348-_Toc256000019"></a>取出年代数据</h3>
<p>
  if($_GET[&#8216;niandai&#8217;])
</p>
<p>
       $sel = &#8221;;
</p>
<p>
   else
</p>
<p>
       $sel = &#8216;class=&#8221;all&#8221;&#8216;;
</p>
</p>
<p>
   $nianData[] = array(
</p>
<p>
       &#8216;name&#8217;=&gt;&#8221;全部&#8221;,
</p>
<p>
       &#8216;url&#8217;=&gt;getUrl(),
</p>
<p>
       &#8216;selected&#8217;=&gt;$sel
</p>
<p>
   );
</p>
</p>
<p>
  $sql = &#8220;select distinct niandai from dede_addonmovie&#8221;;
</p>
<p>
  $dsql-&gt;Execute(&#8216;nian&#8217;,$sql);
</p>
<p>
  while($row = $dsql-&gt;GetArray(&#8216;nian&#8217;)){
</p>
<p>
       if($_GET[&#8216;niandai&#8217;]==$row[&#8216;niandai&#8217;]){
</p>
<p>
           $sel = &#8216;class=&#8221;all&#8221;&#8216;;
</p>
<p>
       }else
</p>
<p>
           $sel = &#8221;;
</p>
</p>
<p>
       $nianData[] = array(
</p>
<p>
           &#8216;name&#8217;=&gt;$row[&#8216;niandai&#8217;],
</p>
<p>
           &#8216;url&#8217;=&gt;&#8217;?niandai=&#8217;.$row[&#8216;niandai&#8217;].getUrl(&#8216;niandai&#8217;),
</p>
<p>
           &#8216;selected&#8217;=&gt;$sel
</p>
<p>
       );
</p>
</p>
<p>
  }
</p>
<p>
  url的拼接函数如下所示:
</p>
<p>
  function getUrl($default=&#8221;){
</p>
<p>
      $str = &#8221;;
</p>
<p>
      if($default !=&#8217;niandai&#8217;){
</p>
<p>
          if($_GET[&#8216;niandai&#8217;]){
</p>
<p>
              $str .= &#8216;&amp;niandai=&#8217;.$_GET[&#8216;niandai&#8217;];
</p>
<p>
          }
</p>
<p>
      }
</p>
<p>
      if($default!=&#8217;type&#8217;){
</p>
<p>
          if($_GET[&#8216;type&#8217;])
</p>
<p>
              $str .= &#8216;&amp;type=&#8217;.$_GET[&#8216;type&#8217;];
</p>
<p>
      }
</p>
<p>
      if($default!=&#8217;diqu&#8217;){
</p>
<p>
          if($_GET[&#8216;diqu&#8217;])
</p>
<p>
              $str .= &#8216;&amp;diqu=&#8217;.$_GET[&#8216;diqu&#8217;];
</p>
<p>
      }
</p>
<p>
  }
</p>
<h3><a id="post-6348-_________"></a><a id="post-6348-_Toc256000020"></a>完成年代数据遍历</h3>
<p><img loading="lazy" decoding="async" width="1536" height="419" src="/wp-content/uploads/2018/05/word-image-5818.png" class="wp-image-6384" srcset="/wp-content/uploads/2018/05/word-image-5818.png 1536w, /wp-content/uploads/2018/05/word-image-5818-300x82.png 300w, /wp-content/uploads/2018/05/word-image-5818-768x210.png 768w, /wp-content/uploads/2018/05/word-image-5818-1024x279.png 1024w" sizes="(max-width: 1536px) 100vw, 1536px" /></p>
<h3><a id="post-6348-______4"></a><a id="post-6348-_Toc256000021"></a>最终效果</h3>
<p><img loading="lazy" decoding="async" width="428" height="76" src="/wp-content/uploads/2018/05/word-image-5819.png" class="wp-image-6385" srcset="/wp-content/uploads/2018/05/word-image-5819.png 428w, /wp-content/uploads/2018/05/word-image-5819-300x53.png 300w" sizes="(max-width: 428px) 100vw, 428px" /></p>
<h2><a id="post-6348-_____________2"></a><a id="post-6348-_Toc256000022"></a><em>在搜索页面显示地区数据</em></h2>
<h3><a id="post-6348-_________2"></a><a id="post-6348-_Toc256000023"></a>取出数据的代码</h3>
<p><img loading="lazy" decoding="async" width="1133" height="194" src="/wp-content/uploads/2018/05/word-image-5820.png" class="wp-image-6386" srcset="/wp-content/uploads/2018/05/word-image-5820.png 1133w, /wp-content/uploads/2018/05/word-image-5820-300x51.png 300w, /wp-content/uploads/2018/05/word-image-5820-768x132.png 768w, /wp-content/uploads/2018/05/word-image-5820-1024x175.png 1024w" sizes="(max-width: 1133px) 100vw, 1133px" /></p>
<h3><a id="post-6348-___________3"></a><a id="post-6348-_Toc256000024"></a>完成地区数据的遍历</h3>
<p><img loading="lazy" decoding="async" width="1257" height="804" src="/wp-content/uploads/2018/05/word-image-5821.png" class="wp-image-6387" srcset="/wp-content/uploads/2018/05/word-image-5821.png 1257w, /wp-content/uploads/2018/05/word-image-5821-300x192.png 300w, /wp-content/uploads/2018/05/word-image-5821-768x491.png 768w, /wp-content/uploads/2018/05/word-image-5821-1024x655.png 1024w" sizes="(max-width: 1257px) 100vw, 1257px" /><br />
<img loading="lazy" decoding="async" width="549" height="65" src="/wp-content/uploads/2018/05/word-image-5822.png" class="wp-image-6388" srcset="/wp-content/uploads/2018/05/word-image-5822.png 549w, /wp-content/uploads/2018/05/word-image-5822-300x36.png 300w" sizes="(max-width: 549px) 100vw, 549px" /></p>
<h2><a id="post-6348-______________4"></a><a id="post-6348-_Toc256000025"></a><em>在搜索页面显示出类型数据</em></h2>
<p><img loading="lazy" decoding="async" width="816" height="206" src="/wp-content/uploads/2018/05/word-image-5823.png" class="wp-image-6389" srcset="/wp-content/uploads/2018/05/word-image-5823.png 816w, /wp-content/uploads/2018/05/word-image-5823-300x76.png 300w, /wp-content/uploads/2018/05/word-image-5823-768x194.png 768w" sizes="(max-width: 816px) 100vw, 816px" /></p>
<h3><a id="post-6348-_________3"></a><a id="post-6348-_Toc256000026"></a>取出数据的代码</h3>
<p><img loading="lazy" decoding="async" width="1020" height="384" src="/wp-content/uploads/2018/05/word-image-5824.png" class="wp-image-6390" srcset="/wp-content/uploads/2018/05/word-image-5824.png 1020w, /wp-content/uploads/2018/05/word-image-5824-300x113.png 300w, /wp-content/uploads/2018/05/word-image-5824-768x289.png 768w" sizes="(max-width: 1020px) 100vw, 1020px" /><br />
<img loading="lazy" decoding="async" width="1055" height="496" src="/wp-content/uploads/2018/05/word-image-5825.png" class="wp-image-6391" srcset="/wp-content/uploads/2018/05/word-image-5825.png 1055w, /wp-content/uploads/2018/05/word-image-5825-300x141.png 300w, /wp-content/uploads/2018/05/word-image-5825-768x361.png 768w, /wp-content/uploads/2018/05/word-image-5825-1024x481.png 1024w" sizes="(max-width: 1055px) 100vw, 1055px" /></p>
<p>
  最终的url函数如下所示:
</p>
<p><img loading="lazy" decoding="async" width="897" height="630" src="/wp-content/uploads/2018/05/word-image-5826.png" class="wp-image-6392" srcset="/wp-content/uploads/2018/05/word-image-5826.png 897w, /wp-content/uploads/2018/05/word-image-5826-300x211.png 300w, /wp-content/uploads/2018/05/word-image-5826-768x539.png 768w" sizes="(max-width: 897px) 100vw, 897px" /></p>
<h3><a id="post-6348-__________2"></a><a id="post-6348-_Toc256000027"></a>完成类型数据遍历</h3>
<p><img loading="lazy" decoding="async" width="1117" height="256" src="/wp-content/uploads/2018/05/word-image-5827.png" class="wp-image-6393" srcset="/wp-content/uploads/2018/05/word-image-5827.png 1117w, /wp-content/uploads/2018/05/word-image-5827-300x69.png 300w, /wp-content/uploads/2018/05/word-image-5827-768x176.png 768w, /wp-content/uploads/2018/05/word-image-5827-1024x235.png 1024w" sizes="(max-width: 1117px) 100vw, 1117px" /></p>
<p>
  最终效果：
</p>
<p><img loading="lazy" decoding="async" width="529" height="60" src="/wp-content/uploads/2018/05/word-image-5828.png" class="wp-image-6394" srcset="/wp-content/uploads/2018/05/word-image-5828.png 529w, /wp-content/uploads/2018/05/word-image-5828-300x34.png 300w" sizes="(max-width: 529px) 100vw, 529px" /></p>
<p>
  最终的效果如下所示:
</p>
<p><img loading="lazy" decoding="async" width="660" height="569" src="/wp-content/uploads/2018/05/word-image-5829.png" class="wp-image-6395" srcset="/wp-content/uploads/2018/05/word-image-5829.png 660w, /wp-content/uploads/2018/05/word-image-5829-300x259.png 300w" sizes="(max-width: 660px) 100vw, 660px" /></p>
<h2><a id="post-6348-_____________SQL___"></a><a id="post-6348-_Toc256000028"></a><em>把地址栏里面的条件添加到SQL语句中</em></h2>
</p>
<p><img loading="lazy" decoding="async" width="1217" height="584" src="/wp-content/uploads/2018/05/word-image-5830.png" class="wp-image-6396" srcset="/wp-content/uploads/2018/05/word-image-5830.png 1217w, /wp-content/uploads/2018/05/word-image-5830-300x144.png 300w, /wp-content/uploads/2018/05/word-image-5830-768x369.png 768w, /wp-content/uploads/2018/05/word-image-5830-1024x491.png 1024w" sizes="(max-width: 1217px) 100vw, 1217px" /></p>
<p><a id="post-6348-___________4"></a>
</p>
<p>
  最终效果：
</p>
<p><a id="post-6348-_________4"></a>
</p>
<p><img loading="lazy" decoding="async" width="894" height="729" src="/wp-content/uploads/2018/05/word-image-5831.png" class="wp-image-6397" srcset="/wp-content/uploads/2018/05/word-image-5831.png 894w, /wp-content/uploads/2018/05/word-image-5831-300x245.png 300w, /wp-content/uploads/2018/05/word-image-5831-768x626.png 768w" sizes="(max-width: 894px) 100vw, 894px" /></p>
<h2><a id="post-6348-____________2"></a><a id="post-6348-_Toc256000032"></a><em>把查询的条件显示出来</em></h2>
<p>
  分析：由于url地址栏中的查询参数信息，在这个位置都要显示出来，那么我们可以在处理查询条件的位置来同步我们的数组（就是用来在页面中遍历查询条件的）
</p>
<p>
  $search=array(
</p>
<p>
  array(
</p>
<p>
  	‘name’=&gt;查询条件的名称,
</p>
<p>
  	‘url’=&gt;对应url地址
</p>
<p>
  )
</p>
<p>
  );
</p>
<h3><a id="post-6348-____SQL___________"></a><a id="post-6348-_Toc256000033"></a>在拼接SQL语句的位置封装条件数组</h3>
<p>
  $searche = array();
</p>
<p>
  $where = &#8221;;
</p>
<p>
  if($_GET[&#8216;niandai&#8217;]){
</p>
<p>
      $where .=&#8221;and addf.niandai='{$_GET[&#8216;niandai&#8217;]}'&#8221;;
</p>
<p>
      $searche[] = array(
</p>
<p>
          &#8216;name&#8217;=&gt;$_GET[&#8216;niadai&#8217;],
</p>
<p>
          &#8216;url&#8217;=&gt;getUrl()
</p>
<p>
      );
</p>
<p>
  }
</p>
<p>
  if($_GET[&#8216;diqu&#8217;]){
</p>
<p>
      $where .=&#8221;and addf.diqu='{$_GET[&#8216;diqu&#8217;]}'&#8221;;
</p>
<p>
      $searche[]= array(
</p>
<p>
          &#8216;name&#8217;=&gt;$_GET[&#8216;diqu&#8217;],
</p>
<p>
          &#8216;url&#8217;=&gt;getUrl()
</p>
<p>
      );
</p>
<p>
  }
</p>
<p>
  if($_GET[&#8216;type&#8217;]){
</p>
<p>
      $where .=&#8221;and cha.typename='{$_GET[&#8216;type&#8217;]}'&#8221;;
</p>
<p>
      $searche[] =array(
</p>
<p>
          &#8216;name&#8217;=&gt;$_GET[&#8216;type&#8217;],
</p>
<p>
          &#8216;url&#8217;=&gt;getUrl()
</p>
<p>
      );
</p>
<p>
  }
</p>
<h3><a id="post-6348-________7"></a><a id="post-6348-_Toc256000034"></a>完成条件遍历</h3>
<p><img loading="lazy" decoding="async" width="1172" height="342" src="/wp-content/uploads/2018/05/word-image-5832.png" class="wp-image-6398" srcset="/wp-content/uploads/2018/05/word-image-5832.png 1172w, /wp-content/uploads/2018/05/word-image-5832-300x88.png 300w, /wp-content/uploads/2018/05/word-image-5832-768x224.png 768w, /wp-content/uploads/2018/05/word-image-5832-1024x299.png 1024w" sizes="(max-width: 1172px) 100vw, 1172px" /></p>
<p>
  最终效果：
</p>
<p><img loading="lazy" decoding="async" width="289" height="48" src="/wp-content/uploads/2018/05/word-image-5833.png" class="wp-image-6399" /></p>
<h2><a id="post-6348-________8"></a><a id="post-6348-_Toc256000035"></a><em>实现搜索功能</em></h2>
<p><img loading="lazy" decoding="async" width="702" height="206" src="/wp-content/uploads/2018/05/word-image-5834.png" class="wp-image-6400" srcset="/wp-content/uploads/2018/05/word-image-5834.png 702w, /wp-content/uploads/2018/05/word-image-5834-300x88.png 300w" sizes="(max-width: 702px) 100vw, 702px" /></p>
<h3><a id="post-6348-______5"></a><a id="post-6348-_Toc256000036"></a>修改表单</h3>
<p><img loading="lazy" decoding="async" width="1190" height="331" src="/wp-content/uploads/2018/05/word-image-5835.png" class="wp-image-6401" srcset="/wp-content/uploads/2018/05/word-image-5835.png 1190w, /wp-content/uploads/2018/05/word-image-5835-300x83.png 300w, /wp-content/uploads/2018/05/word-image-5835-768x214.png 768w, /wp-content/uploads/2018/05/word-image-5835-1024x285.png 1024w" sizes="(max-width: 1190px) 100vw, 1190px" /></p>
<h3><a id="post-6348-________SQL___"></a><a id="post-6348-_Toc256000037"></a>把条件给拼接到SQL语句中</h3>
<p><img loading="lazy" decoding="async" width="1114" height="260" src="/wp-content/uploads/2018/05/word-image-5836.png" class="wp-image-6402" srcset="/wp-content/uploads/2018/05/word-image-5836.png 1114w, /wp-content/uploads/2018/05/word-image-5836-300x70.png 300w, /wp-content/uploads/2018/05/word-image-5836-768x179.png 768w, /wp-content/uploads/2018/05/word-image-5836-1024x239.png 1024w" sizes="(max-width: 1114px) 100vw, 1114px" /></p>
<p>
  最终效果：
</p>
<p><a id="post-6348-____________3"></a><a id="post-6348-______________5"></a>
</p>
<p><img loading="lazy" decoding="async" width="794" height="534" src="/wp-content/uploads/2018/05/word-image-5837.png" class="wp-image-6403" srcset="/wp-content/uploads/2018/05/word-image-5837.png 794w, /wp-content/uploads/2018/05/word-image-5837-300x202.png 300w, /wp-content/uploads/2018/05/word-image-5837-768x517.png 768w" sizes="(max-width: 794px) 100vw, 794px" /></p>
]]></content:encoded>
					
					<wfw:commentRss>/%e4%ba%8c%e6%ac%a1%e5%bc%80%e5%8f%91/6348.html/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
